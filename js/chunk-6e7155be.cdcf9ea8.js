(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e7155be","chunk-31f8488c","chunk-52d87de2"],{"0136":function(t,e,n){},"188b":function(t,e,n){"use strict";n.r(e);n("57e7");var a=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"z-index":"9999"}},[e("el-dialog",{staticClass:"custom-dialog",attrs:{visible:t.isInviteMemberVisible},on:{"update:visible":function(e){t.isInviteMemberVisible=e}}},[e("div",{staticClass:"question p-1"},[e("div",{staticClass:"info"},[e("el-avatar",{attrs:{size:t.avatarSize,src:t.avatarUrl}}),e("div",{staticClass:"custom-flex"},[e("span",{staticClass:"author"},[t._v(t._s(t.user))]),e("span",{staticClass:"date"},[t._v(t._s(t.createdAt))])])],1),e("div",{staticClass:"title"},[t._v("\n        [Câu hỏi] "+t._s(t.title)+"\n      ")]),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.formattedContent)}}),e("div",{staticClass:"actions"},[e("div",{staticClass:"like-container"},[e("i",{staticClass:"fa fa-heart-o",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"likes"},[t._v(t._s(t.likes))])]),e("div",{staticClass:"comment-container"},[e("el-icon",{staticClass:"el-icon-chat-dot-square",staticStyle:{color:"rgb(24, 61, 228)"}}),e("span",{staticClass:"comments"},[t._v(t._s(t.answersCount))])],1)]),e("div",{staticClass:"reply-container"},[e("div",{staticClass:"avatar"},[e("el-avatar",{attrs:{size:t.avatarSize,src:this.$store.getters.currentUser.avatarUrl}})],1),e("div",{staticClass:"input-box",class:{disabled:t.isPostButtonDisabled}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.replyText,expression:"replyText"}],staticClass:"reply-input",attrs:{placeholder:"Nhập phản hồi của bạn..."},domProps:{value:t.replyText},on:{input:[function(e){e.target.composing||(t.replyText=e.target.value)},t.onReplyInputChange],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendReply.apply(null,arguments)}}})]),e("div",{staticClass:"emoji-button",on:{click:t.showEmojiPicker}},[t._v("\n          😃\n        ")]),e("div",{staticClass:"send-button mr-3",on:{click:t.sendReply}},[e("i",{staticClass:"fa fa-paper-plane",staticStyle:{color:"rgb(12, 126, 233)"},attrs:{"aria-hidden":"true"}})])])]),t.isEmojiPickerVisible?e("emoji-picker",{on:{"emoji-selected":t.insertEmoji}}):t._e(),e("div",{staticClass:"answer-list mt-2",staticStyle:{"max-height":"200px","overflow-y":"auto"}},t._l(t.answers,(function(n){return e("answer",{key:n.id,attrs:{_id:n._id,content:n.content,avatarUrl:n.user.avatarUrl,user:n.user.fullname,createdAt:t.formatDate(n.createdAt),likes:n.likes}})})),1)],1)],1)},r=[],i=(n("4f37"),n("96cf"),n("1da1")),s=(n("a481"),n("c5f6"),n("868a")),c=n("9f3e"),o=n("2ac8"),u=n("b166"),l=n("425e"),d=(n("277f"),n("c24f")),f={props:{title:String,content:String,_id:String,id:String,user:String,createdAt:String,avatarUrl:String,likes:Number,comments:Number},computed:{avatarSize:function(){return"small"},formattedContent:function(){return this.content.replace(/\n/g,"<br>")},formattedDate:function(){return this.createdAt?this.createdAt>0?this.formatDate(this.createdAt):"Ngày tạo không hợp lệ":"Ngày tạo không xác định"},answersCount:function(){return this.answers.length},isPostButtonDisabled:function(){}},created:function(){},data:function(){return{replyText:"",answers:[],isInviteMemberVisible:!1,isEmojiPickerVisible:!1}},components:{Answer:s["default"],EmojiPicker:l["default"]},methods:{formatDate:function(t){return String(Object(u["a"])(new Date(t),"dd/MM/yyyy HH:mm"))},showEmojiPicker:function(){this.isEmojiPickerVisible=!0},insertEmoji:function(t){this.replyText+=t,this.isEmojiPickerVisible=!1},saveAnswerCount:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["e"])(this.id,this.answers.length);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error("Lỗi khi cập nhật lượt thích: ",t.t0);case 8:case"end":return t.stop()}}),t,this,[[0,5]])})));function e(){return t.apply(this,arguments)}return e}(),loadAnswers:function(){var t=this;Object(c["a"])(this.id).then((function(e){e&&e.data&&e.data.success?(t.answers=e.data.answers,t.saveAnswerCount()):console.error("Không thành công: ",e.data)})).catch((function(t){console.error("Lỗi khi tải câu trả lời: ",t)}))},childFunction:function(){this.isInviteMemberVisible=!0,this.loadAnswers()},showInviteDialog:function(){this.isInviteMemberVisible=!0},onReplyInputChange:function(){},sendReply:function(t){var e=this;if(""!==this.replyText.trim()){var n={content:this.replyText,question:this.id,user:this.$store.getters.user._id};Object(c["c"])(n).then((function(t){if(t&&200===t.status){var a=t.data;a&&a.success?(e.loadAnswers(),e.replyText="",Object(o["h"])(e.id),Object(d["a"])(e._id,{user:{_id:e.$store.getters.currentUser._id,fullname:e.$store.getters.currentUser.fullname,avatarUrl:e.$store.getters.currentUser.avatarUrl},content:" đã trả lời câu hỏi của bạn: "+n.content})):console.error("Lỗi khi lưu phản hồi: ",a)}else console.error("Lỗi khi gửi phản hồi, phản hồi không hợp lệ: ",t)})).catch((function(t){console.error("Lỗi khi gửi phản hồi: ",t)}))}},validatePhotoURL:function(t){return"string"===typeof t?t:""},toggleInviteMemberDialog:function(){this.internalIsInviteMemberVisible=!this.internalIsInviteMemberVisible}}},h=f,v=(n("53aa"),n("2877")),p=Object(v["a"])(h,a,r,!1,null,null,null);e["default"]=p.exports},"2ac8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return f}));var a=n("b775"),r="question";function i(){return Object(a["a"])({url:"/".concat(r),method:"get"})}function s(t){return Object(a["a"])({url:"/".concat(r),method:"post",data:t})}function c(t){return Object(a["a"])({url:"/".concat(r,"/").concat(t),method:"delete"})}function o(t){return Object(a["a"])({url:"/".concat(r,"/").concat(t),method:"post"})}function u(t){return Object(a["a"])({url:"/".concat(r,"/status/").concat(t),method:"post"})}function l(t,e){return Object(a["a"])({url:"/".concat(r,"/").concat(t,"/count"),method:"post",data:{answersCount:e}})}function d(t,e){return Object(a["a"])({url:"/".concat(r,"/updateQuestion/").concat(t),method:"post",data:{newQuestion:e}})}function f(t,e){return Object(a["a"])({url:"/".concat(r,"/paginated"),method:"get",params:{page:t,pageSize:e}})}},"425e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"emoji-picker"},t._l(t.emojis,(function(n,a){return e("div",{key:a,staticClass:"emoji",on:{click:function(e){return t.insertEmoji(n)}}},[t._v("\n    "+t._s(n)+"\n  ")])})),0)},r=[],i={data:function(){return{emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","😍","😘","🥰","😎","🤩","😏","😌","😑","😒","😓","😔","😕","😖","😗","😙","😚","🙂","🤗","🤔","🤨","😐","😶","😏","😟","😠","😡","🥺","😢","😣","😤","😥","😦","😧","😨","😩","🤯","😬","😰","😱","😳","🤪","😵","😶‍🌫️","😷","🤒","🤕","🤢","🤮","🥴","🤧","😇","🤠","🥳","🥺","🥱","🤤","🤥","🤫","🤭","🧐","🤓","😈","👿","👹","👺","💀","👻","👽","🛸","🚀","🛰️","💥","💫","💦","💨","🌪️","🌩️","🌧️","🌨️","🌦️","🌤️","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","🌨️","🌩️","🌪️","💧","💦","🌊","🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🌽","🥕","🥔","🍠","🥐","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🥪","🍱","🍲","🥣","🥗","🍿","🧂","🥫","🍯","🍮","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍦","🍨","🍧","🎂","🍰","🧁","🥧","🍽️","🍴","🥄","🏺","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🧊","🥢","🍽️","🥄","🏺","🥂","🍾","🍷","🍸","🍹","🍺","🍻","🥃","🥤","🧊","🥢"]}},methods:{insertEmoji:function(t){this.$emit("emoji-selected",t)}}},s=i,c=(n("9676"),n("2877")),o=Object(c["a"])(s,a,r,!1,null,"ca281478",null);e["default"]=o.exports},"436a":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("beaf"),r=n("2420"),i=n("fd3a"),s=n("8c86");function c(t){Object(s["a"])(1,arguments);var e=Object(i["a"])(t);return e.setHours(0,0,0,0),e}var o=864e5;function u(t,e){Object(s["a"])(2,arguments);var n=c(t),a=c(e),i=n.getTime()-Object(r["a"])(n),u=a.getTime()-Object(r["a"])(a);return Math.round((i-u)/o)}var l=n("b166"),d=n("e3c5"),f=n("83d2"),h=n("fe1f");function v(t,e,n){var c,o,v,p,m,b,g,k,j,w;Object(s["a"])(2,arguments);var C=Object(i["a"])(t),O=Object(i["a"])(e),y=Object(a["a"])(),_=null!==(c=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:y.locale)&&void 0!==c?c:d["a"],S=Object(h["a"])(null!==(v=null!==(p=null!==(m=null!==(b=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==b?b:null===n||void 0===n||null===(g=n.locale)||void 0===g||null===(k=g.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==m?m:y.weekStartsOn)&&void 0!==p?p:null===(j=y.locale)||void 0===j||null===(w=j.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==v?v:0);if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");if(!_.formatRelative)throw new RangeError("locale must contain formatRelative property");var x,A=u(C,O);if(isNaN(A))throw new RangeError("Invalid time value");x=A<-6?"other":A<-1?"lastWeek":A<0?"yesterday":A<1?"today":A<2?"tomorrow":A<7?"nextWeek":"other";var R=Object(f["a"])(C,Object(r["a"])(C)),E=Object(f["a"])(O,Object(r["a"])(O)),U=_.formatRelative(x,R,E,{locale:_,weekStartsOn:S});return Object(l["a"])(C,U,{locale:_,weekStartsOn:S})}},"53aa":function(t,e,n){"use strict";n("758b")},"758b":function(t,e,n){},"868a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"answer"},[e("div",{staticClass:"info"},[e("el-avatar",{attrs:{size:t.avatarSize,src:t.avatarUrl?t.avatarUrl:""}}),e("div",[e("div",{staticClass:"custom-flex"},[e("span",{staticClass:"author"},[t._v(t._s(t.user))]),e("span",{staticClass:"date"},[t._v(t._s(t.createdAt))])])]),e("div",{staticClass:"actions ml-4"},[e("div",{staticClass:"like-container"},[e("i",{staticClass:"fa fa-heart-o",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.likeAnswers.apply(null,arguments)}}}),e("span",{staticClass:"likes"},[t._v(t._s(t.likesCount))])])])],1),e("div",{staticClass:"content"},[t._v(t._s(t.content))])])},r=[],i=(n("96cf"),n("1da1")),s=(n("c5f6"),n("436a")),c=n("9f3e"),o={props:{_id:String,content:String,user:String,createdAt:String,avatarUrl:String,likes:Number},data:function(){return{likesCount:0}},computed:{avatarSize:function(){return"small"},formattedDate:function(){return this.createdAt?this.formatDate(this.createdAt):""}},created:function(){this.likesCount=this.likes},methods:{formatDate:function(t){var e="";return t&&(e=Object(s["a"])(new Date(1e3*t),new Date),e=e.charAt(0).toUpperCase()+e.slice(1)),e},likeAnswers:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.likesCount++,t.prev=1,t.next=4,Object(c["d"])(this._id);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.error("Lỗi khi cập nhật lượt thích: ",t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])})));function e(){return t.apply(this,arguments)}return e}()}},u=o,l=(n("e7e4"),n("2877")),d=Object(l["a"])(u,a,r,!1,null,"81de22d0",null);e["default"]=d.exports},9676:function(t,e,n){"use strict";n("fc17")},"9f3e":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o}));var a=n("b775"),r="answer";function i(t){return Object(a["a"])({url:"/".concat(r,"/").concat(t),method:"post"})}function s(t){return Object(a["a"])({url:"/".concat(r,"/").concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/".concat(r,"/deleteAnswer/").concat(t),method:"delete"})}function o(t){return Object(a["a"])({url:"/".concat(r),method:"post",data:t})}},e7e4:function(t,e,n){"use strict";n("0136")},fc17:function(t,e,n){}}]);