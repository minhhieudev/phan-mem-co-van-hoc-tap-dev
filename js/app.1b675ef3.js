(function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a={app:0},o=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-1fc24fb0":"254c24e8","chunk-1fcd6e4a":"cbd5cf35","chunk-2d0c0e94":"ddfe2011","chunk-2d208708":"53881211","chunk-33ffb828":"1e2319f0","chunk-4b3966b2":"e393586a","chunk-4caea91f":"92e57b3d","chunk-52d87de2":"09062ae8","chunk-5b6ad2d8":"f729fbca","chunk-31f8488c":"dd396c96","chunk-626ec25e":"1fad8321","chunk-6e7155be":"cdcf9ea8","chunk-180c8df8":"69a2c210","chunk-54bf3aab":"8f7d0e42","chunk-d23254a4":"5ffed177","chunk-6ef3f034":"ff5b5970","chunk-76d2505c":"6d5d6772","chunk-034e2901":"f1d31e89","chunk-3f796135":"21a708b6","chunk-4e698b44":"9f556e7e","chunk-57782c76":"bb537254","chunk-5da5497e":"6f23cecb","chunk-66821e5a":"ee04d13f","chunk-a09cf0b4":"f48093f3","chunk-57565704":"dca693df","chunk-657d8705":"5db36901","chunk-c65c6058":"2a6c3191","chunk-aa9ce0e2":"eb4d2a4e","chunk-bde6dfe2":"6ad9ccc0","chunk-d234e0b4":"a5650d98","chunk-2d216214":"3368af5d","chunk-cdced472":"7bfccfcd"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-1fc24fb0":1,"chunk-1fcd6e4a":1,"chunk-33ffb828":1,"chunk-4b3966b2":1,"chunk-4caea91f":1,"chunk-52d87de2":1,"chunk-31f8488c":1,"chunk-626ec25e":1,"chunk-6e7155be":1,"chunk-54bf3aab":1,"chunk-d23254a4":1,"chunk-6ef3f034":1,"chunk-76d2505c":1,"chunk-034e2901":1,"chunk-3f796135":1,"chunk-4e698b44":1,"chunk-57782c76":1,"chunk-5da5497e":1,"chunk-66821e5a":1,"chunk-a09cf0b4":1,"chunk-57565704":1,"chunk-657d8705":1,"chunk-c65c6058":1,"chunk-aa9ce0e2":1,"chunk-bde6dfe2":1,"chunk-d234e0b4":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-1fc24fb0":"134f90d5","chunk-1fcd6e4a":"4757f2b0","chunk-2d0c0e94":"31d6cfe0","chunk-2d208708":"31d6cfe0","chunk-33ffb828":"e102da9c","chunk-4b3966b2":"277739c5","chunk-4caea91f":"95753ad9","chunk-52d87de2":"40e65d48","chunk-5b6ad2d8":"31d6cfe0","chunk-31f8488c":"aa8c1a1a","chunk-626ec25e":"66d4ee15","chunk-6e7155be":"299be3e7","chunk-180c8df8":"31d6cfe0","chunk-54bf3aab":"61e60861","chunk-d23254a4":"afec5946","chunk-6ef3f034":"d2de70f6","chunk-76d2505c":"f87f3199","chunk-034e2901":"5972f723","chunk-3f796135":"b74fc0ec","chunk-4e698b44":"4c60efae","chunk-57782c76":"6e8cc32a","chunk-5da5497e":"905d6c13","chunk-66821e5a":"45df8b83","chunk-a09cf0b4":"47246763","chunk-57565704":"3f59326d","chunk-657d8705":"1ea8fbbc","chunk-c65c6058":"d3554d54","chunk-aa9ce0e2":"035d7ec0","chunk-bde6dfe2":"cf571b6f","chunk-d234e0b4":"b7204f40","chunk-2d216214":"31d6cfe0","chunk-cdced472":"31d6cfe0"}[t]+".css",a=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===r||l===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[t],f.parentNode.removeChild(f),n(o)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){i[t]=0})));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,n[1](d)}a[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/phan-mem-co-van-hoc-tap-dev/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"062e":function(t,e,n){},2445:function(t,e,n){},"25af":function(t,e,n){},"272c":function(t,e,n){"use strict";n("2445")},"277f":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n("b775"),i="notification";function a(){return Object(r["a"])({url:"/".concat(i),method:"get"})}function o(t){return Object(r["a"])({url:"/".concat(i),method:"post",data:t})}},"3b80":function(t,e,n){"use strict";n("b3f1")},"412e":function(t,e,n){},4360:function(t,e,n){"use strict";var r=n("2b0e"),i=n("2f62"),a=(n("96cf"),n("1da1")),o=n("53ca"),c={state:{base_url:"",template_builder_url:"",pageTitle:"",currentSidebar:null,sidebarHeight:null,alerts:[],loadingStatus:0,reRender:!1,mapCustomerGroup:{general:"General","tax-exempt":"Tax Exempt"},lastRoute:"",routeHistory:[],countries:{},stateRequired:[],customerGroups:[],websites:[],websiteId:0,frequencies:{"1_week":"1 Week","2_week":"2 Weeks","1_month":"1 Month","2_month":"2 Months","3_month":"3 Months","4_month":"4 Months"},acl:[],googleReCaptchaSiteKey:"",configuration:[],cmsBlocks:{},cmsPage:[],toolbarWidges:[],subtitle:"",modules:{},locale:{languages:[{code:"en",label:"English"}],currencies:[{code:"USD",label:"US Dollar"}]},attributeInfo:[],systemName:"",orderStates:{},entities:{},breadcrumb:[],isNewTheme:!1,taskStatusMap:{}},mutations:{SET_PAGE_TITLE:function(t,e){t.pageTitle=e},SET_CURRENT_SIDEBAR:function(t,e){t.currentSidebar=e},SET_SIDEBAR_HEIGHT:function(t,e){t.sidebarHeight=e?0:document.documentElement.scrollHeight},SHOW_ALERT:function(t,e){3===t.alerts.length&&t.alerts.pop(),t.alerts.unshift(Object.assign({variant:"info"},e))},DISMISS_ALERT:function(t,e){t.alerts.splice(e,1)},SET_LOADING_STATUS:function(t,e){e&&(t.loadingStatus+=1),!e&&t.loadingStatus>0&&(t.loadingStatus-=1),"reset"===e&&(t.loadingStatus=0)},TOGGLE_RE_RENDER:function(t){t.reRender=!t.reRender},SET_LAST_ROUTE:function(t,e){t.lastRoute=e},PUSH_LAST_ROUTE:function(t,e){t.routeHistory.unshift(e),t.routeHistory.length=10},SET_FIRST_DATA:function(t,e){t.taskStatusMap=e["taskStatus"]},SET_WEBSITES:function(t,e){t.websites=e},SET_WEBSITE_ID:function(t,e){t.websiteId=e},SET_GOOGLE_RE_CAPTCHA_SITE_KEY:function(t,e){t.googleReCaptchaSiteKey=e},SET_CONFIGURATION:function(t,e){t.configuration=e},SET_TOOLBAR_WIDGETS:function(t,e){t.toolbarWidges=e},SET_SUBTITLE:function(t,e){t.subtitle=e},SET_SYSTEM_NAME:function(t,e){t.systemName=e},SET_BREADCRUMB:function(t,e){t.breadcrumb=e},SET_NEW_THEME:function(t,e){t.isNewTheme=e}},actions:{setPageTitle:function(t,e){var n=t.commit;"object"===Object(o["a"])(e)?(e.page_title&&n("SET_PAGE_TITLE",e.page_title),e.subtitle&&n("SET_SUBTITLE",e.subtitle||"")):n("SET_PAGE_TITLE",e)},changeCurrentSidebar:function(t,e){var n=t.commit;n("SET_CURRENT_SIDEBAR",e)},changeSidebarHeight:function(t,e){var n=t.commit;n("SET_SIDEBAR_HEIGHT",e)},showAlert:function(t,e){var n=t.commit;n("SHOW_ALERT",e)},dismissAlert:function(t,e){var n=t.commit;n("DISMISS_ALERT",e)},toggleLoading:function(t,e){var n=t.commit;n("SET_LOADING_STATUS",e)},reRender:function(t){var e=t.commit;e("TOGGLE_RE_RENDER")},setLastRoute:function(t,e){var n=t.commit;n("SET_LAST_ROUTE",e),n("PUSH_LAST_ROUTE",e)},setFirstData:function(t,e){var n=t.commit;n("SET_FIRST_DATA",e)},setWebsites:function(t,e){var n=t.commit;n("SET_WEBSITES",e)},setWebsiteId:function(t,e){var n=t.commit;n("SET_WEBSITE_ID",e)},fetchConfiguration:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,n.configuration&&n.configuration.length){t.next=6;break}return t.next=4,getConfiguration().then((function(t){var e=t.data;return e.settings})).catch((function(){return null}));case 4:i=t.sent,i&&r("SET_CONFIGURATION",i);case 6:return t.abrupt("return",n.configuration);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getBlocks:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.state;case 1:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),setToolbarWidgets:function(t,e){var n=t.commit;n("SET_TOOLBAR_WIDGETS",e)},setBreadcrumb:function(t,e){var n=t.commit;n("SET_BREADCRUMB",e)},setNewTheme:function(t,e){var n=t.commit;n("SET_NEW_THEME",e)}}},s=n("5f87"),u=n("7ded"),l={state:{token:Object(s["b"])(),user:Object(s["c"])(),isLocked:!1,enableLockMode:!0,lock:{enabled:!0,period:15},client:Object(s["a"])(),clients:[]},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e},UNSET_USER:function(t){t.user=null,t.token=null},LOCK_SESSION:function(t){t.isLocked=!0},UNLOCK_SESSION:function(t){t.isLocked=!1},LOCK_SETTING:function(t,e){t.lock=e},SET_CLIENT:function(t,e){t.client=e,Object(s["d"])(e)},SET_CLIENTS:function(t,e){t.clients=e},SET_USER_FULLNAME:function(t,e){if(t.user._id==e._id){t.user.first_name=e.newUserFirstName,t.user.last_name=e.newUserLastName,t.user.user=t.user;var n=Object(s["c"])();n.first_name=e.newUserFirstName,n.last_name=e.newUserLastName,Object(s["f"])(n)}}},actions:{reSetUser:function(t,e){var n=t.state;n.user=e,Object(s["f"])(e)},login:function(t,e){var n=t.commit;return new Promise((function(t,r){Object(u["b"])(e).then((function(e){var r=e.data,i=r.user.accessToken,a=r.user;r.success&&(n("SET_TOKEN",i),n("SET_USER",a),Object(s["e"])(i),Object(s["f"])(a)),t(!0)})).catch((function(t){r(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,n){Object(u["c"])().then((function(){e("UNSET_USER"),Object(s["g"])(),t()}))}))},setLoginData:function(t,e){var n=t.commit;n("SET_TOKEN",e.token),n("SET_USER",e.user),Object(s["e"])(e.token),Object(s["f"])(e.user)},tokenNotValid:function(t){var e=t.commit;t.dispatch;return e("UNSET_USER"),e("SET_CLIENTS",[]),e("SET_CLIENT",""),Object(s["g"])(),Promise.resolve("true")},lockSession:function(t){t.commit},unlockSession:function(t,e){t.commit},setClient:function(t,e){var n=t.commit;n("SET_CLIENT",e)},setClients:function(t,e){var n=t.commit;n("SET_CLIENTS",e)},setUserFullName:function(t,e){var n=t.commit;n("SET_USER_FULLNAME",e)}}},d=l,f=(n("ac6a"),n("456d"),{pageTitle:function(t){return t.app.pageTitle},currentSidebar:function(t){return t.app.currentSidebar},sidebarHeight:function(t){return t.app.sidebarHeight},token:function(t){return t.user.token},user:function(t){return t.user.user},question:function(t){return t.question.question},alerts:function(t){return t.app.alerts},loadingStatus:function(t){return t.app.loadingStatus},reRender:function(t){return t.app.reRender},mapCustomerGroup:function(t){return t.app.mapCustomerGroup},lastRoute:function(t){return t.app.lastRoute},routeHistory:function(t){return t.app.routeHistory},countries:function(t){return t.app.countries},stateRequired:function(t){return t.app.stateRequired},isLocked:function(t){return t.user.isLocked},websites:function(t){return t.app.websites},websiteId:function(t){return t.app.websiteId},frequencies:function(t){return t.app.frequencies},acl:function(t){return t.app.acl},googleReCaptchaSiteKey:function(t){return t.app.googleReCaptchaSiteKey},settings:function(t){return t.app.settings},blocks:function(t){return t.app.cmsBlocks||{}},toolbarWidges:function(t){return t.app.toolbarWidges},subtitle:function(t){return t.app.subtitle},modules:function(t){return t.app.modules||{}},locale:function(t){return t.app.locale},clients:function(t){return t.user.clients},client:function(t){return t.user.client},attributeInfo:function(t){return t.app.attributeInfo},systemName:function(t){return t.app.systemName},baseUrl:function(t){return t.app.base_url},templateBuilderURL:function(t){return t.app.template_builder_url},orderStates:function(t){return t.app.orderStates},claimStatuses:function(t){return t.app.claimStatuses},entities:function(t){return t.app.entities},entityClasses:function(t){for(var e={},n=t.app.entities,r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];e[a]=n[a].classes}return e},breadcrumb:function(t){return t.app.breadcrumb},isNewTheme:function(t){return t.app.isNewTheme},news:function(t){return t.data.news},overviewData:function(t){return t.data.overviewData},package_groups:function(t){return t.data.package_groups},orders:function(t){return t.data.orders},taskStatusMap:function(t){return t.app.taskStatusMap},users:function(t){return t.data.users.docs},total_users:function(t){return t.data.users.total},allUsers:function(t){return t.data.allUsers},currentUser:function(t){return t.data.currentUser},khoaList:function(t){return t.data.khoaList},nghanhList:function(t){return t.data.nghanhList},lopList:function(t){return t.data.lopList},notifications:function(t){return t.data.notifications},socket:function(t){return t.data.socket}}),h={state:{users:{docs:[],total:0},notifications:[],khoaList:[],nghanhList:[],lopList:[],currentUer:{},allUsers:[],socket:null},mutations:{SET_DATA:function(t,e){t[e.key]=e.data}},actions:{setData:function(t,e){var n=t.commit;n("SET_DATA",e)}}};r["default"].use(i["a"]);e["a"]=new i["a"].Store({modules:{app:c,user:d,data:h},actions:{},getters:f})},"49e5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"d",(function(){return f}));n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("ade3");var r=n("b775");var i="student";function a(t,e){return Object(r["a"])({url:"/".concat(i,"/getCondition"),method:"post",data:{department:t,className:e}})}function o(t,e){return Object(r["a"])({url:"/".concat(i,"/saveStudents"),method:"post",data:{dataSV:t,user:e}})}function c(){return Object(r["a"])({url:"/".concat(i,"/class-list"),method:"get"})}function s(){return Object(r["a"])({url:"/".concat(i,"/khoaList"),method:"get"})}function u(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"delete"})}function l(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"get"})}function d(t){return Object(r["a"])({url:"/".concat(i),method:"post",data:t})}function f(t){var e=t.email;return Object(r["a"])({url:"/".concat(i,"/get-fullName/").concat(encodeURIComponent(e)),method:"get"})}},5475:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},a=[],o={mounted:function(){this.connectSocket(),this.loadKhoaList(),this.loadLopList(),this.loadCurrentUser()}},c=o,s=(n("3b80"),n("2877")),u=Object(s["a"])(c,i,a,!1,null,null,null),l=u.exports,d=n("e26c"),f=n("4360"),h=n("5c96"),m=n.n(h),p=n("9029"),b=n("c7db"),g=(n("6762"),n("2fdb"),n("2caf"),n("28a5"),n("c5f6"),n("8615"),n("6d67"),n("ac6a"),n("456d"),n("2909")),v=(n("a481"),n("96cf"),n("1da1")),k=n("2ef0"),y=n("3666"),w=n.n(y),_=n("b775");function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(_["a"])({url:"/file",method:"post",data:t,timeout:0,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){e&&(e.percent=Math.floor(100*t.loaded/t.total))}})}var S=n("49e5"),A=n("c24f"),C=n("daa8"),x="https://backend-3lvb.onrender.com/api/v1/admin/file",E={data:function(){var t=this;return{ckEditorConfig:{entities_latin:!1,basicEntities:!1,entities_greek:!1,entities_processNumerical:!1,forcePasteAsPlainText:!1,filebrowserImageUploadUrl:x},editorConfig:{plugins:"wordcount code image link",toolbar:"undo redo | styleselect | bold italic | forecolor backcolor | link image alignleft aligncenter alignright | code",height:400,skin:"silver",force_br_newline:!1,force_p_newline:!1,forced_root_block:"",convert_urls:!1,cleanup_on_startup:!1,trim_span_elements:!1,verify_html:!1,cleanup:!1,valid_elements:"[]",valid_children:"[]",images_upload_handler:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n,r,i){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("file",n.blob()),e.next=4,T(a,null).then((function(t){var e=t.data;return e}));case 4:o=e.sent,o&&o.filename?r(t.getImagePath(o.filename)):i("Has an error");case 6:case"end":return e.stop()}}),e)})));function n(t,n,r){return e.apply(this,arguments)}return n}()},BACKEND_PATH:"https://backend-3lvb.onrender.com/api/v1/admin"}},methods:{connectSocket:function(){this.$store.dispatch("setData",{key:"socket",data:Object(C["a"])("https://backend-3lvb.onrender.com")})},loadCurrentUser:function(){var t=this;A["d"](this.$store.getters.user._id).then((function(e){t.$store.dispatch("setData",{key:"currentUser",data:e.data.doc})})).catch((function(t){console.log(t)})).finally((function(){}))},loadKhoaList:function(){var t=this;S["e"]().then((function(e){var n=e.data;n.success&&t.$store.dispatch("setData",{key:"khoaList",data:n.khoaLists})}))},loadLopList:function(){var t=this;S["b"]().then((function(e){var n=e.data;n.success&&t.$store.dispatch("setData",{key:"lopList",data:n.classLists})}))},setData:function(t){this.$store.dispatch("setData",t)},getSlug:function(t){t=t.toLowerCase(),t=t.replace(/đ/g,"d");var e=w()(t,{lower:!0,remove:/[~!@#$%^&*()+{};'"<>?/_]/g});return e},getImagePath:function(t){return"https://backend-3lvb.onrender.com/upload/"+t},getPrice:function(t){return this.$store.getters.user&&this.$store.getters.user.is_partner&&t.vip_price?t.vip_price:t.price},csvExport:function(t){var e="data:text/csv;charset=utf-8,";e+=[Object.keys(t[0]).join(";")].concat(Object(g["a"])(t.map((function(t){return Object.values(t).join(";")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var n=encodeURI(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","keywords.csv"),r.click()},goToDashBoard:function(){this.$router.push({name:"app"}),this.$store.dispatch("reRender")},handleCopyStr:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n),this.$notify({type:"success",message:"Đã sao chép vào clipboard."}))},formatPrice:function(t){return t=Number(t),isNaN(t)&&(t=0),t=t.toLocaleString("it-IT",{style:"currency",currency:"VND"}),t},getGroups:function(){return this.$store.state.app.customerGroups},acl:function(t){return"*"===this.userACL||(t=t.split("/"),t=t.map((function(t){return Object(k["snakeCase"])(t)})).join("/"),Array.isArray(this.userACL)&&this.userACL.includes(t))},renderBoolean:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Yes",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"No";return Boolean(t)?e:n},ucfirst:function(t){return t&&"string"===typeof t&&(t=t[0].toUpperCase()+t.substr(1)),t},hasModule:function(t){return this.modules[t]||!1}},computed:{isAdminRole:function(){return"Admin"==this.$store.getters.user.role},taskStatusMap:function(){return this.$store.getters.taskStatusMap},userACL:function(){return this.$store.getters["acl"]},modules:function(){return this.$store.getters["modules"]},isNewTheme:function(){return!0}}},O={install:function(t){t.directive("click-outside",b["directive"]),t.directive("content",{inserted:function(t){t.classList.add("page-content")}}),t.prototype.$wrAlert=function(t){f["a"].dispatch("showAlert",t)},t.prototype.$wrLoading=function(t){f["a"].dispatch("toggleLoading",t)},t.mixin(E)}},N=O,P=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"d-flex px-2"},[e("div",{staticClass:"toolbar-buttons mr-auto"},[e("h4",[t._v(t._s(t.pageTitle))])]),e("div",{staticClass:"toolbar-buttons ml-auto"},[t._l(t.buttons,(function(n,r){return[n.more?[e("el-dropdown",{key:r,attrs:{size:"medium","split-button":"",type:n.type},on:{click:function(e){return t.doAction(n)},command:t.handleMoreAction}},[t._v("\n              "+t._s(n.label)+"\n              "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(n.more,(function(n,r){return e("el-dropdown-item",{key:r,attrs:{command:n}},[t._v(t._s(n.label))])})),1)],1)]:[e("el-button",{key:r,staticClass:"mx-1",attrs:{size:"medium",type:n.type,icon:n.icon,disabled:n.disabled},on:{click:function(e){return t.doAction(n)}}},[t._v("\n              "+t._s(n.label)+"\n            ")])]]}))],2)])])])},U=[],j={props:["buttons","noFixed","websiteSelector","subtitle"],data:function(){return{scrollY:null,originalTop:0,isFixed:!1}},methods:{doAction:function(t){if(t.callback&&"function"==typeof t.callback)t.callback();else if(t.route){var e={name:t.route};t.routeParams&&(e.params=t.routeParams),t.routeQuery&&(e.query=t.routeQuery),this.$router.push(e)}else t.path?this.$router.push(t.path):console.warn('Button "'.concat(t.label,'" has an invalid action'))},handleMoreAction:function(t){this.doAction(t)},handleWindows:function(){this.scrollY=Math.round(window.scrollY)},handleWebsiteChanged:function(t){this.$emit("websiteChanged",t),this.$parent.handleWebsiteChanged&&this.$parent.handleWebsiteChanged(t)}},computed:{pageTitle:function(){return this.$store.getters.pageTitle},wid:function(){return this.$parent.wid||0},showWebsites:function(){return"function"===typeof this.$parent.handleWebsiteChanged||this.websiteSelector}},mounted:function(){var t=this.$el.querySelector(".wr-scroll-source");t&&(this.originalTop=+t.getBoundingClientRect().top+ +t.getBoundingClientRect().height),window.addEventListener("scroll",this.handleWindows),this.$store.dispatch("setToolbarWidgets",this.buttons)},watch:{scrollY:function(){this.isFixed=this.scrollY>this.originalTop},subtitle:function(t){this.$store.commit("SET_SUBTITLE",t)},buttons:function(){this.$store.dispatch("setToolbarWidgets",this.buttons)}},destroyed:function(){window.removeEventListener("scroll",this.handleWindows),this.$store.dispatch("setToolbarWidgets",[]),this.$store.commit("SET_SUBTITLE","")}},D=j,I=(n("8bf0"),Object(s["a"])(D,P,U,!1,null,"1fb00432",null)),L=I.exports;r["default"].component("toolbar-widget",L);n("e2cf"),n("a2f0");var R=n("b2d6"),F=n.n(R),M=(n("e562"),n("0d68"),n("0342"),n("3b2e"),n("e8b0"),n("ef1f"),n("be7f"),n("fb02"),n("ec27"),n("f3e2"),n("7bb1")),B=n("4c93"),H=n("2593");Object(M["b"])("en",H),Object.keys(B).forEach((function(t){Object(M["a"])(t,B[t])}));var V=n("953d"),Q=n.n(V),z=n("25ae"),$=n.n(z);r["default"].use($.a),r["default"].use(Q.a),r["default"].use(m.a,{locale:F.a}),r["default"].use(N),r["default"].config.productionTip=!1,r["default"].prototype.$isMobile=p["isMobile"],new r["default"]({router:d["a"],store:f["a"],render:function(t){return t(l)}}).$mount("#app")},"5f87":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return l}));var r="wl";function i(){var t=localStorage.getItem(r+".token");return null!=t?t:null}function a(t){t&&localStorage.setItem(r+".token",t)}function o(){var t=localStorage.getItem(r+".user");return null!=t?JSON.parse(t):null}function c(t){t&&localStorage.setItem(r+".user",JSON.stringify(t))}function s(){localStorage.removeItem(r+".user"),localStorage.removeItem(r+".token"),localStorage.removeItem(r+".auth")}function u(t){t&&localStorage.setItem(r+".client_id",t)}function l(){return localStorage.getItem(r+".client_id")||!1}},"6ab2":function(t,e,n){var r={"./":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./Reply":["51f2","chunk-5b6ad2d8","chunk-626ec25e"],"./Reply.vue":["51f2","chunk-5b6ad2d8","chunk-626ec25e"],"./detailPost":["9a88","chunk-5b6ad2d8","chunk-6ef3f034"],"./detailPost.vue":["9a88","chunk-5b6ad2d8","chunk-6ef3f034"],"./index":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./index.vue":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./postItem":["ecde","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-57565704"],"./postItem.vue":["ecde","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-57565704"],"./postTables":["ee69","chunk-5b6ad2d8","chunk-76d2505c","chunk-5da5497e"],"./postTables.vue":["ee69","chunk-5b6ad2d8","chunk-76d2505c","chunk-5da5497e"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="6ab2",t.exports=i},"6d96":function(t,e,n){t.exports=n.p+"img/9.a778117d.jpg"},"6da2":function(t,e,n){"use strict";n("af1a")},"6e25":function(t,e,n){"use strict";n("7b5c")},"75a3":function(t,e,n){var r={"./training_point/resultTraningPoint":["e32d","chunk-5b6ad2d8","chunk-76d2505c","chunk-57782c76"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="75a3",t.exports=i},"7b5c":function(t,e,n){},"7ded":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return d}));var r=n("b775"),i=n("9690");function a(t){var e=Object(i["a"])("auth","trust_computer_hash");return e&&(t.trust_hash=e),Object(r["a"])({url:"/auth/signin",method:"post",data:t})}function o(){return Object(r["a"])({url:"/auth/register",method:"post"})}function c(){return Object(r["a"])({url:"/auth/logout",method:"post"})}function s(t){return Object(r["a"])({url:"/auth/send-verification-code",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/auth/verify-code",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/auth/forgot-password",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/auth/forgot-password",method:"post",data:t})}},"8a53":function(t,e,n){},"8bf0":function(t,e,n){"use strict";n("062e")},9266:function(t,e,n){var r={"./Question/questionTables":["fcd5","chunk-5b6ad2d8","chunk-76d2505c","chunk-4e698b44"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="9266",t.exports=i},9529:function(t,e,n){"use strict";n("25af")},9690:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r="wl",i=function(t){return r+"."+t},a=function(t,e){localStorage.setItem(i(t),JSON.stringify(e))};function o(t,e,n){var r=s(t);r||(r={}),r[e]=n,a(t,r)}function c(t,e){var n=s(t);return!!n&&n[e]}function s(t){var e=localStorage.getItem(i(t));return null!==e&&JSON.parse(e)}},"9a24":function(t,e,n){"use strict";n("9a98")},"9a98":function(t,e,n){},a2f0:function(t,e,n){},a67c:function(t,e){t.exports="data:image/png;base64,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"},aac9:function(t,e,n){"use strict";n("8a53")},adfc:function(t,e,n){"use strict";n("d2ce")},af1a:function(t,e,n){},b3f1:function(t,e,n){},b775:function(t,e,n){"use strict";var r=n("53ca"),i=n("bc3a"),a=n.n(i),o=n("e26c"),c=n("4360"),s=n("5f87"),u=n("2b0e"),l=new u["default"],d=a.a.create({timeout:15e3,headers:{accept:"application/json"}});d.interceptors.request.use((function(t){return t.headers["x-access-token"]=Object(s["b"])(),t.baseURL="https://backend-3lvb.onrender.com/api/v1/admin",t}),(function(t){console.log(t),Promise.reject(t)}));var f=function(t){"data"in t&&("message"in t.data&&l.$notify({type:t.data.status,message:"object"==Object(r["a"])(t.data.message)?t.data.message.message:t.data.message,dangerouslyUseHTMLString:t.data.dangerouslyUseHTMLString,showClose:!0,duration:7e3}),"renew_token"in t.data&&Object(s["e"])(t.data.wr_renew_token))};d.interceptors.response.use((function(t){return f(t),Promise.resolve(t)}),(function(t){if(c["a"].dispatch("toggleLoading","reset"),t.response){if(f(t.response),403===t.response.status&&o["a"].push({path:"/"}),401===t.response.status)return c["a"].dispatch("tokenNotValid").then((function(){o["a"].push({path:"/login"}).catch((function(){}))})),Promise.reject(t.response)}else l.$notify({type:"error",message:"Can't connect to server. Please try again later.",showClose:!0,duration:7e3});return Promise.reject(t.response)})),e["a"]=d},b84e:function(t,e,n){},ba86:function(t,e,n){},c121:function(t,e){t.exports="data:image/png;base64,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"},c24f:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return p}));var r=n("b775"),i="user";function a(t){return Object(r["a"])({url:"/".concat(i,"/collection"),method:"post"})}function o(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"delete"})}function c(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"get"})}function s(t){return Object(r["a"])({url:"/".concat(i),method:"post",data:t})}function u(t,e){return Object(r["a"])({url:"/".concat(i,"/updateAvatarUser/").concat(t),method:"post",data:{avatarUrl:e}})}function l(t,e){return Object(r["a"])({url:"/".concat(i,"/updateNotificationForUser/").concat(t),method:"post",data:{notifications:e}})}function d(t){return Object(r["a"])({url:"/".concat(i,"/getNotification/").concat(t),method:"get"})}function f(t,e){return Object(r["a"])({url:"/".concat(i,"/addNotification/").concat(t),method:"post",data:{notification:e}})}function h(t){return Object(r["a"])({url:"/".concat(i,"/updateNotificationStatus/").concat(t),method:"post"})}function m(t){return Object(r["a"])({url:"/".concat(i,"/getInfoUser/").concat(t),method:"get"})}function p(t,e,n){return Object(r["a"])({url:"/".concat(i,"/changePassword/").concat(t),method:"post",data:{currentPassword:e,newPassword:n}})}},c78c:function(t,e,n){var r={"./training_point/detailTrainingPoint":["366e","chunk-5b6ad2d8","chunk-76d2505c","chunk-034e2901"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="c78c",t.exports=i},ca74:function(t,e,n){"use strict";n("ba86")},cf05:function(t,e,n){t.exports=n.p+"img/logo.f69df3fe.png"},d2ce:function(t,e,n){},d4df:function(t,e,n){"use strict";n("412e")},e26c:function(t,e,n){"use strict";var r=n("2909"),i=n("2b0e"),a=n("8c4f"),o=(n("759f"),n("4360")),c=n("5f87"),s=function(t,e,n){o["a"].dispatch("setLastRoute",e.fullPath);var r=t.matched.some((function(t){return t.meta.authRequired}));t.meta.isRerenderComponent&&o["a"].dispatch("reRender");var i=Object(c["c"])();r&&!i?n("/login"):"/login"===t.path&&i?n("/"):n(),n()},u=(n("7f7f"),function(t,e){o["a"].dispatch("changeCurrentSidebar",null);var n=t.meta.title||t.name,r=t.matched.slice(1);o["a"].dispatch("setPageTitle",n),o["a"].dispatch("setBreadcrumb",r),document.title=n}),l=function(){var t=this,e=t._self._c;return t.user?e("div",{staticClass:"wrapper"},[t.$isMobile?t._e():e("side-bar-component",{on:{sidebarExpand:function(e){t.isSidebarExpand=e}}}),t.isLoaded?e("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingStatus>0,expression:"loadingStatus > 0"}],staticClass:"content minus-180"},[e("header-component"),e("root-content",{key:t.client}),e("chat")],1):t._e()],1):t._e()},d=[],f=function(){var t=this,e=t._self._c;return e("header",{staticClass:"navbar app-navbar bg-white v2-theme custom py-0"},[e("header-left"),t.$isMobile?t._e():e("div",{staticClass:"ml-auto mr-1 d-flex"},[e("account-info"),e("el-dropdown",{attrs:{trigger:"click"},on:{command:t.updateStatus,"visible-change":t.handleVisibleChange}},[e("el-badge",{staticClass:"item mr-3",attrs:{value:t.countUnreadNotifications,max:99}},[e("el-icon",{staticClass:"el-icon-message-solid",attrs:{name:"bell"}})],1),e("el-dropdown-menu",{staticClass:"notification-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.notifications,(function(n){return e("div",{key:n.id,staticClass:"notification-item"},[e("el-avatar",{attrs:{src:n.user.avatarUrl}}),e("div",{staticClass:"notification-content"},[e("span",{staticClass:"notification-author"},[t._v(t._s(n.user.fullname))]),t._v(" \n            "),e("span",{staticClass:"notification-text"},[t._v(t._s(n.content))])])],1)})),0)],1)],1)],1)},h=[],m=(n("96cf"),n("1da1")),p=(n("d25f"),function(){var t=this,e=t._self._c;return e("div",{class:{"in-drawer pb-3":t.inDrawer}},[e("ul",{staticClass:"left-navbar"},[e("li",{staticClass:"order-1 order-md-5 pl-5 pr-md-0"},[e("el-dropdown",{staticClass:"align-text-center",attrs:{trigger:"click"},on:{command:t.handleCommand}},[e("span",{staticClass:"text-black",staticStyle:{cursor:"pointer"}},[e("b",[t._v(t._s(this.$store.getters.user.fullname))]),e("el-badge",{staticClass:"item",attrs:{value:this.$store.getters.user.is_admin?"Admin":""}},[e("img",{staticClass:"avatar rounded-pill mb-1 mr-2 ml-2",attrs:{src:t.paths||"https://res.cloudinary.com/dpxcvonet/image/upload/v1729304643/jjfd84acjaamikeefdzr.jpg",alt:"avatar",width:30}})])],1),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{icon:"fa fa-user-o",disabled:""}},[t._v(t._s(this.$store.getters.user.email))]),e("el-dropdown-item",{attrs:{icon:"el-icon-s-custom",command:"change_avatar"}},[t._v("Đổi avatar")]),e("el-dropdown-item",{attrs:{icon:"el-icon-s-custom",command:"change_pass"}},[t._v("Đổi mật khẩu")]),e("el-dropdown-item",{attrs:{command:"logout",icon:"fa fa-sign-out"}},[t._v("Đăng xuất")])],1)],1)],1)]),e("AvatarChangeDialog",{ref:"avatarChangeDialog",on:{"change-avatar":t.handleChangeAvatar}}),e("PassChangeDialog",{ref:"passChangeDialog",on:{"change-pass":t.handleChangePass}})],1)}),b=[],g=(n("ac6a"),n("456d"),n("9690")),v=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{visible:t.dialogVisible,title:"Chọn Avatar mới",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.resetDialog}},[e("el-form",{ref:"avatarForm",attrs:{model:t.avatarForm,"label-width":"80px"}},[e("el-form-item",[e("el-upload",{attrs:{action:t.uploadActionURL,"list-type":"picture-card","on-success":t.handleAvatarUploadSuccess,"auto-upload":!0,"show-file-list":!1,"on-change":t.handleAvatarChange}},[e("i",{staticClass:"el-icon-plus"})])],1)],1),t.previewUrl?e("div",{staticClass:"avatar-preview"},[e("img",{attrs:{src:t.previewUrl,alt:"Avatar Preview"}})]):t._e(),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Hủy")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmAvatar}},[t._v("Xác nhận")])],1)],1)],1)},k=[],y=n("c24f"),w={data:function(){return{dialogVisible:!1,avatarForm:{file:null,name:"",path:""},previewUrl:"",uploadActionURL:"https://backend-3lvb.onrender.com/public/upload"}},created:function(){},methods:{resetDialog:function(){this.dialogVisible=!1,this.avatarForm.file=null,this.previewUrl=null},handleAvatarChange:function(t,e){var n=this;if(e){this.avatarForm.file=t,this.avatarForm.name=t.name;var r=new FileReader;r.onload=function(t){n.previewUrl=t.target.result},r.readAsDataURL(t.raw||t.originFileObj)}else this.previewUrl=null,this.$message.error("Vui lòng chọn chỉ một hình ảnh.")},handleAvatarUploadSuccess:function(t,e,n){var r=t.files[0];this.avatarForm.name=r.filename,this.avatarForm.path="".concat("https://backend-3lvb.onrender.com").concat(r.path)},confirmAvatar:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.avatarForm.file||!this.avatarForm.file.raw){t.next=16;break}return console.log("22333:"+this.avatarForm.path),t.prev=2,t.next=5,Object(y["i"])(this.$store.getters.user._id,{newUrl:this.avatarForm.path});case 5:t.sent,this.$emit("change-avatar",this.previewUrl),this.resetDialog(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error(t.t0),this.$message.error("Có lỗi xảy ra khi cập nhật avatar.");case 14:t.next=17;break;case 16:this.$message.error("Vui lòng chọn hình ảnh trước khi xác nhận.");case 17:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}()}},_=w,T=(n("272c"),n("2877")),S=Object(T["a"])(_,v,k,!1,null,"30dd584c",null),A=S.exports,C=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{visible:t.dialogVisible,title:"Đổi mật khẩu",width:"30%",center:""},on:{"update:visible":function(e){t.dialogVisible=e},close:t.resetDialog}},[e("el-form",{ref:"passForm",attrs:{model:t.passForm,"label-width":"180px",rules:t.rules}},[e("el-form-item",{attrs:{label:"Nhập mật khẩu cũ",prop:"passOld"}},[e("el-input",{attrs:{type:"text","show-password":t.showPassword.passOld},on:{"click-password":function(e){return t.togglePassword("passOld")}},model:{value:t.passForm.passOld,callback:function(e){t.$set(t.passForm,"passOld",e)},expression:"passForm.passOld"}})],1),e("el-form-item",{attrs:{label:"Nhập mật khẩu mới",prop:"passNew"}},[e("el-input",{attrs:{type:"password","show-password":t.showPassword.passNew},on:{"click-password":function(e){return t.togglePassword("passNew")}},model:{value:t.passForm.passNew,callback:function(e){t.$set(t.passForm,"passNew",e)},expression:"passForm.passNew"}})],1),e("el-form-item",{attrs:{label:"Nhập lại mật khẩu mới",prop:"confirmPassNew"}},[e("el-input",{attrs:{type:"password","show-password":t.showPassword.confirmPassNew},on:{"click-password":function(e){return t.togglePassword("confirmPassNew")}},model:{value:t.passForm.confirmPassNew,callback:function(e){t.$set(t.passForm,"confirmPassNew",e)},expression:"passForm.confirmPassNew"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.resetFields}},[t._v("Reset")]),e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Hủy")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handlePassChange}},[t._v("Xác nhận")])],1)],1)],1)},x=[],E={data:function(){var t=this;return{dialogVisible:!1,passForm:{passOld:"",passNew:"",confirmPassNew:""},showPassword:{passOld:!1,passNew:!1,confirmPassNew:!1},rules:{passOld:[{required:!0,message:"Vui lòng nhập mật khẩu cũ",trigger:"blur"}],passNew:[{required:!0,message:"Vui lòng nhập mật khẩu mới",trigger:"blur"}],confirmPassNew:[{required:!0,message:"Vui lòng nhập lại mật khẩu mới",trigger:"blur"},{validator:function(e,n,r){n!==t.passForm.passNew?r(new Error("Mật khẩu xác nhận không khớp")):r()},trigger:"blur"}]}}},methods:{togglePassword:function(t){this.showPassword[t]=!this.showPassword[t]},resetFields:function(){for(var t in this.passForm)this.passForm[t]="",this.showPassword[t]=!1;this.$refs.passForm.clearValidate()},resetDialog:function(){this.dialogVisible=!1,this.resetFields()},handlePassChange:function(){var t=this;this.$refs.passForm.validate((function(e){if(e){var n=t.passForm,r=n.passOld,i=n.passNew;Object(y["b"])(t.$store.getters.user._id,{currentPassword:String(r),newPassword:i}).then((function(e){e.success&&(t.$message.success("Đổi mật khẩu thành công"),t.resetDialog())})).catch((function(e){console.error("Lỗi khi đổi mật khẩu:",e),t.$message.error("Đổi mật khẩu thất bại")}))}}))}}},O=E,N=Object(T["a"])(O,C,x,!1,null,null,null),P=N.exports,U={props:{inDrawer:{type:Boolean,default:!1}},data:function(){return{showDialogLockSession:!1,centerDialogVisible:!1,countdown:60,isSetting:!1,lock:{enabled:!1,period:5},theme:!1,dataUser:{},paths:""}},components:{AvatarChangeDialog:A,PassChangeDialog:P},created:function(){console.log(this.$store.getters.user),console.log("Av:",this.$store.getters.currentUser.avatarUrl),this.paths=this.$store.getters.currentUser.avatarUrl},methods:{getUser:function(){this.paths=this.$store.getters.currentUser.avatarUrl},changeTheme:function(){var t=this.theme?"v2":"";Object(g["b"])("layout","THEME",t),this.$store.dispatch("setNewTheme","v2"===t)},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push({path:"/login"}).catch((function(){}))}))},handleCommand:function(t){switch(t){case"logout":this.logout();break;case"change_avatar":this.showAvatarChangeDialog();break;case"change_pass":this.showPassChangeDialog();break;case"lock_session":this.showDialogLockSession=!0;break;default:return!1}},showAvatarChangeDialog:function(){this.$refs.avatarChangeDialog.dialogVisible=!0},showPassChangeDialog:function(){this.$refs.passChangeDialog.dialogVisible=!0},handleChangeAvatar:function(t){this.paths=t},lockSession:function(){this.showDialogLockSession=!1,this.$store.dispatch("lockSession")},handleCounter:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.countdown<=0)){t.next=3;break}return this.lockSession(),t.abrupt("return",!1);case 3:if(this.isSetting||!this.showDialogLockSession){t.next=8;break}return this.countdown--,t.next=7,this.sleep(1e3);case 7:this.handleCounter();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sleep:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))},editUser:function(){this.$router.push({name:"system_user_edit",params:{id:this.$store.state.user.user._id}}).catch((function(){}))},handleChangePass:function(){}},computed:{user:function(){return this.$store.getters.user}},mounted:function(){var t=this;this.$watch("lock",(function(){t.$store.commit("LOCK_SETTING",t.lock)}),{deep:!0});var e=this.$store.state.user.lock;e&&Object.keys(e).length&&(this.lock=e),this.theme=this.isNewTheme},watch:{isSetting:function(t){t||this.handleCounter()},showDialogLockSession:function(t){t&&(this.countdown=60,this.handleCounter())}}},j=U,D=(n("ef02"),Object(T["a"])(j,p,b,!1,null,"35656ac5",null)),I=D.exports,L=function(){var t=this,e=t._self._c;return e("div",{class:t.$isMobile?"w-100":""},[e("div",{staticClass:"d-flex align-items-center"},[e("h4",{staticClass:"ml-2 font-bold d-flex align-items-center justify-content-between justify-content-md-between mb-0"},[t.$isMobile?e("i",{staticClass:"fa fa-bars mr-3",on:{click:function(e){t.drawer=!0}}}):t._e(),e("img",{attrs:{src:n("6d96"),alt:"",width:"40px",height:"40px"}}),e("b",{staticClass:"ml-3"},[t._v(t._s(t.activeItem.name))])])]),e("el-drawer",{attrs:{visible:t.drawer,"show-close":!1,"custom-class":"background-drawer",withHeader:!1,direction:"ltr",size:"90vw"},on:{"update:visible":function(e){t.drawer=e}}},[e("div",{staticClass:"text-center py-4"},[e("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:n("cf05"),alt:"logo"}})]),e("account-info",{attrs:{"in-drawer":!0}}),e("sidebar",{attrs:{"is-header":!0},on:{active_item:function(e){t.drawer=!1}}})],1)],1)},R=[],F=(n("7514"),{Admin:[{name:"Dashboard",url:"/dashboard",icon:"el-icon-menu",color_icon:"#ff4d4d",type:"1"},{name:"Tài liệu / Bài đăng",url:"/post",icon:"el-icon-document",color_icon:"#ff4d4d",type:"1"},{name:"Hỏi & Đáp",url:"/question",icon:"el-icon-question",color_icon:"#ff4d4d",type:"1"},{name:"Quản trị Câu hỏi / Trả lời",url:"/questionTables",icon:"el-icon-s-grid",color_icon:"#84e8c8",type:"2"},{name:"Quản trị Tài liệu / Bài đăng",url:"/postTables",icon:"el-icon-menu",color_icon:"#84e8c8",type:"2"},{name:"Quản lý người dùng",url:"/user",icon:"el-icon-user-solid",color_icon:"#84e8c8",type:"2"},{name:"Quản lý sinh viên",url:"/student",icon:"el-icon-user",color_icon:"#84e8c8",type:"2"},{name:"Quản lý cố vấn",url:"/consultant",icon:"el-icon-s-custom",color_icon:"#84e8c8",type:"2"},{name:"Chấm điểm rèn luyện",url:"/training_point",icon:"el-icon-reading",color_icon:"#0000FF",type:"3"},{name:"Duyệt phiếu điểm",url:"/detailTrainingPoint",icon:"el-icon-tickets",color_icon:"#0000FF",type:"3"},{name:"Kết quả rèn luyện",url:"/resultTraningPoint",icon:"el-icon-notebook-2",color_icon:"#0000FF",type:"3"}],student:[{name:"Tài liệu / Bài đăng",url:"/post",icon:"el-icon-document",color_icon:"#ff4d4d",type:"1"},{name:"Hỏi & Đáp",url:"/question",icon:"el-icon-question",color_icon:"#ff4d4d",type:"1"},{name:"Chấm điểm rèn luyện",url:"/training_point",icon:"el-icon-reading",color_icon:"#0000FF",type:"3"},{name:"Xem điểm rèn luyện",url:"/note_book",icon:"el-icon-search",color_icon:"#FF6600\t",type:"3"},{name:"Giới thiệu",url:"/Introduce",icon:"el-icon-s-tools",color_icon:"#010101",type:"4"}],consultant:[{name:"Dashboard",url:"/dashboard",icon:"el-icon-menu",color_icon:"#ff4d4d",type:"1"},{name:"Tài liệu / Bài đăng",url:"/post",icon:"el-icon-document",color_icon:"#ff4d4d",type:"1"},{name:"Hỏi & Đáp",url:"/question",icon:"el-icon-question",color_icon:"#ff4d4d",type:"1"},{name:"Quản trị Câu hỏi / Trả lời",url:"/questionTables",icon:"el-icon-s-grid",color_icon:"#f9b651",type:"2"},{name:"Quản trị Tài liệu / Bài đăng",url:"/postTables",icon:"el-icon-menu",color_icon:"#ca2c2a",type:"2"},{name:"Quản lý sinh viên",url:"/student",icon:"el-icon-user",color_icon:"#84e8c8",type:"2"},{name:"Chấm điểm rèn luyện",url:"/training_point",icon:"el-icon-reading",color_icon:"#0000FF",type:"3"},{name:"Duyệt phiếu điểm",url:"/detailTrainingPoint",icon:"el-icon-tickets",color_icon:"#0000FF",type:"3"},{name:"Kết quả rèn luyện",url:"/resultTraningPoint",icon:"el-icon-notebook-2",color_icon:"#0000FF",type:"3"}]}),M=function(){var t=this,e=t._self._c;return e("aside",{staticClass:"sidebar",class:{"w-180":!0,"w-100 position-static bg-none":t.isHeader},style:{height:t.sidebarHeight+"px"}},[t.isHeader?t._e():e("div",{staticClass:"d-flex flex-wrap",class:t.isSidebarExpand?"align-items-center justify-content-between":"justify-content-center"},[e("div",{staticClass:"text-center"}),e("div",{staticClass:"application",class:t.isSidebarExpand?"ml-2":"mt-2"},[t._m(0)])]),e("div",{staticClass:"wrapper-sidebar-menu"},[e("div",{staticClass:"custom-container"},[e("p",[t._v(t._s(t.getName()))]),e("el-icon",{staticClass:"el-icon-eleme",staticStyle:{color:"rgb(248, 39, 67)"}})],1),e("ul",{staticClass:"sidebar-menu"},t._l(t.sidebars,(function(n,r){return"1"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1),"student"!==this.$store.getters.user.role?e("div",[e("div",{staticClass:"categoryManagement"},[e("p",[t._v("QUẢN TRỊ CHUNG ")]),e("el-icon",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"rgb(24, 61, 228)"}})],1),e("ul",{staticClass:"sidebar-menu"},t._l(t.sidebars,(function(n,r){return"2"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1)]):t._e(),"student"!=this.$store.getters.user.role?e("div",{staticClass:"trainingPoint"},[e("p",[t._v("ĐIỂM RÈN LUYỆN")]),e("el-icon",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"rgb(24, 61, 228)"}})],1):t._e(),e("ul",{staticClass:"sidebar-menu"},t._l(t.sidebars,(function(n,r){return"3"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1),e("ul",{staticClass:"sidebar-menu mt-2"},t._l(t.sidebars,(function(n,r){return"4"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1)])])},B=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-apps"},[e("p",{staticClass:"title-app"},[t._v(" PHẦN MỀM ")]),e("p",{staticClass:"title-app"},[t._v(" CỐ VẤN HỌC TẬP")])])}],H=(n("2caf"),n("6762"),n("2fdb"),function(){var t=this,e=t._self._c;return e("li",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutSide,expression:"clickOutSide"}],staticClass:"sidebar-menu-item p-1 mt-1"},[[e("el-button",{staticClass:"px-2 w-100",class:{"border-0":!t.getSidebarActive&&!t.getRouteActive,active:t.getSidebarActive||t.getRouteActive},attrs:{plain:"",type:t.getSidebarActive||t.getRouteActive?"primary":""},on:{click:function(e){return t.showSidebarItem(t.sidebar,t.index,t.hasChildren)}}},[e("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-center flex-column sidebar-item"},[t.sidebar.icon.includes("el-icon")||t.sidebar.icon.includes("fa fa-")?e("div",{staticClass:"icon"},[e("i",{class:t.sidebar.icon,style:"color: ".concat(t.sidebar.color_icon)})]):t._e(),e("b",{staticClass:"text mt-2"},[t._v(t._s(t.sidebar.name))])])])]],2)}),V=[],Q=(n("28a5"),function(){var t=this,e=t._self._c;return e("".concat(t.icon,"-icon"),{tag:"component",attrs:{size:"22"}})}),z=[],$=n("0a35"),G={props:{icon:{type:String,require:!0}},components:{PackageIcon:$["b"],LayersIcon:$["a"],YoutubeIcon:$["c"]}},q=G,W=Object(T["a"])(q,Q,z,!1,null,null,null),X=W.exports,K={props:["sidebar","index"],components:{FeatherIcons:X},data:function(){return{currentActive:null}},methods:{showSidebarItem:function(t,e,n){var r=this;n?this.$refs["sidebar"+e]&&this.$store.dispatch("changeCurrentSidebar",t.url).then((function(){r.$store.dispatch("changeSidebarHeight")})):this.sidebarLink(t)},hideSidebarItem:function(){var t=this;this.$store.dispatch("changeCurrentSidebar",null).then((function(){t.$store.dispatch("changeSidebarHeight",!0)}))},sidebarLink:function(t){return this.$emit("active_item"),this.hasChildren?"#":"dashboard"===t.url?this.$router.push({path:"/"}).catch((function(){})):this.$router.push({path:t.url}).catch((function(){}))},clickOutSide:function(){this.getCurrentSidebar===this.sidebar.url&&this.$store.dispatch("changeCurrentSidebar",null)},hasACLChildren:function(t,e){var n=this,r=!1;return Array.isArray(t)&&(r=t.some((function(t){return n.acl(e+"/"+t.url)}))),r}},computed:{getCurrentSidebar:function(){return this.$store.getters.currentSidebar},hasChildren:function(){return"children"in this.$props.sidebar&&this.$props.sidebar.children.length>=1},getRouteActive:function(){return this.$props.sidebar.url==="/"+this.$route.fullPath.split("/")[1]},getSidebarActive:function(){return this.getCurrentSidebar===this.$props.sidebar.url}}},Y=K,J=(n("6da2"),Object(T["a"])(Y,H,V,!1,null,"f23ead8c",null)),Z=J.exports,tt=(n("f559"),function(){var t=this,e=t._self._c;return e("el-collapse-item",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutSide,expression:"clickOutSide"}],staticClass:"sidebar-menu-item",attrs:{name:t.sidebar.url+t.index}},[e("div",{staticClass:"d-flex flex-wrap align-items-center sidebar-item bg-none",attrs:{slot:"title"},on:{click:function(e){return t.showSidebarItem(t.sidebar,t.index,t.hasChildren)}},slot:"title"},[t.sidebar.icon.includes("el-icon")||t.sidebar.icon.includes("fa fa-")?e("div",{staticClass:"icon"},[e("i",{class:t.sidebar.icon})]):e("feather-icons",{attrs:{icon:t.sidebar.icon}}),e("div",{staticClass:"text pl-1"},[t._v(t._s(t.sidebar.name))])],1),t.hasChildren?[e("el-collapse",{attrs:{accordion:""}},[t._l(t.sidebar.children,(function(n,r){return t._l(n.column,(function(n,i){return e("el-collapse-item",{key:n.name+t.index+i+r,attrs:{name:t.sidebar.url+t.index+r+i}},[n.name&&t.hasACLChildren(n.item,t.sidebar.url)?e("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(n.name))]):t._e(),e("div",[t._l(n.item,(function(n,a){return[t.acl(n.url)&&n.url.startsWith("/")?[e("router-link",{key:t.sidebar.url+n.name+t.index+r+i+a,attrs:{slot:"title",to:n.url},nativeOn:{click:function(e){return t.goTo(n.url)}},slot:"title"},[t._v(t._s(n.name))])]:t.acl(t.sidebar.url+"/"+n.url)?[e("router-link",{key:t.sidebar.url+n.name+t.index+r+i+a,attrs:{slot:"title",to:"/"+t.sidebar.url+"/"+n.url},nativeOn:{click:function(e){return t.goTo("/"+t.sidebar.url+"/"+n.url)}},slot:"title"},[t._v(t._s(n.name))])]:t._e()]}))],2)])}))}))],2)]:t._e()],2)}),et=[],nt={props:["sidebar","index"],components:{FeatherIcons:X},data:function(){return{currentActive:null}},methods:{showSidebarItem:function(t,e,n){var r=this;n?this.$refs["sidebar"+e]&&this.$store.dispatch("changeCurrentSidebar",t.url).then((function(){r.$store.dispatch("changeSidebarHeight")})):this.sidebarLink(t)},goTo:function(t){this.$router.push({path:t}).catch((function(){})),this.$root.$emit("sidebarDrawer",!1)},sidebarLink:function(t){return this.hasChildren?"#":"dashboard"===t.url?this.$router.push({path:"/"}).catch((function(){})):this.$router.push({path:t.url}).catch((function(){}))},clickOutSide:function(){this.getCurrentSidebar===this.sidebar.url&&this.$store.dispatch("changeCurrentSidebar",null)},hasACLChildren:function(t,e){var n=this,r=!1;return Array.isArray(t)&&(r=t.some((function(t){return n.acl(e+"/"+t.url)}))),r}},computed:{getCurrentSidebar:function(){return this.$store.getters.currentSidebar},hasChildren:function(){return"children"in this.$props.sidebar&&this.$props.sidebar.children.length>=1},getRouteActive:function(){return this.$props.sidebar.url===this.$route.fullPath.split("/")[1]},getSidebarActive:function(){return this.getCurrentSidebar===this.$props.sidebar.url}}},rt=nt,it=(n("d4df"),Object(T["a"])(rt,tt,et,!1,null,"507ad21e",null)),at=it.exports,ot={components:{SidebarItem:Z,SidebarItemCollapse:at},props:{isHeader:{type:Boolean,default:!1}},data:function(){return{sidebars:[],isSidebarExpand:!1}},created:function(){var t=this.$store.getters.user.role||"student";this.sidebars=F[t]},methods:{handleClickItem:function(){this.$emit("active_item")},handleSidebarExpand:function(){this.isSidebarExpand=!this.isSidebarExpand,this.$emit("sidebarExpand",this.isSidebarExpand)},scrollHeight:function(){return document.documentElement.scrollHeight},getName:function(){var t=this.$store.getters.user.role;return"student"==t?"SINH VIÊN":"consultant"==t?"CỐ VẤN":"Admin"==t?"ADMIN":void 0}},computed:{sidebarHeight:function(){return this.$store.getters.sidebarHeight},hasACL:function(){var t=this.$store.getters["acl"];return"*"===t||Array.isArray(t)&&t.length}}},ct=ot,st=(n("adfc"),Object(T["a"])(ct,M,B,!1,null,"d4f91bca",null)),ut=st.exports,lt=function(){var t=this,e=t._self._c;return e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t._l(t.breadcrumb,(function(n,r){return[n.meta&&n.meta.title?e("el-breadcrumb-item",{key:r},[t._v("\n      "+t._s(n.meta.title)+"\n    ")]):t._e()]}))],2)},dt=[],ft={computed:{breadcrumb:function(){return this.$store.getters.breadcrumb||[]}}},ht=ft,mt=Object(T["a"])(ht,lt,dt,!1,null,null,null),pt=mt.exports,bt={components:{Sidebar:ut,AccountInfo:I,Breadcrumb:pt},data:function(){return{drawer:!1,routePath:this.$router.history.current.path}},watch:{$route:function(t,e){this.routePath=t.path}},created:function(){var t=this;this.$root.$on("sidebarDrawer",(function(e){return t.drawer=e}))},computed:{pageTitle:function(){return this.$store.getters.pageTitle},activeItem:function(){var t=this,e=F[this.$store.getters.user.role].find((function(e){return e.url==t.routePath}));return e||{name:""}},menuItems:function(){var t=this;return F[this.$store.getters.user.role].filter((function(e){return e.url!=t.activeItem.url}))}}},gt=bt,vt=(n("9529"),Object(T["a"])(gt,L,R,!1,null,"3d5c3db6",null)),kt=vt.exports,yt=(n("b54a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"ml-3"},[e("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":t.querySearch,placeholder:"Please input"},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.item;return[e("div",{staticClass:"value"},[t._v(t._s(r.value))]),e("span",{staticClass:"link"},[t._v(t._s(r.link))])]}}]),model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},on:{click:t.handleIconClick},slot:"suffix"})])],1)}),wt=[],_t=(n("57e7"),{data:function(){return{links:[],state:""}},methods:{querySearch:function(t,e){var n=this.links,r=t?n.filter(this.createFilter(t)):n;e(r)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},loadAll:function(){return[{value:"vue",link:"https://github.com/vuejs/vue"},{value:"element",link:"https://github.com/ElemeFE/element"},{value:"cooking",link:"https://github.com/ElemeFE/cooking"},{value:"mint-ui",link:"https://github.com/ElemeFE/mint-ui"},{value:"vuex",link:"https://github.com/vuejs/vuex"},{value:"vue-router",link:"https://github.com/vuejs/vue-router"},{value:"babel",link:"https://github.com/babel/babel"}]},handleSelect:function(t){console.log(t)},handleIconClick:function(t){console.log(t)}},mounted:function(){this.links=this.loadAll()}}),Tt=_t,St=(n("9a24"),Object(T["a"])(Tt,yt,wt,!1,null,"0d799331",null)),At=St.exports,Ct=n("277f"),xt=(n("daa8"),{components:{AccountInfo:I,HeaderLeft:kt,Search:At},data:function(){return{notifications:[]}},created:function(){var t=this;this.loadData(),this.$store.getters.socket.on("updateNotifications",(function(){t.loadData()}))},computed:{countUnreadNotifications:function(){return this.notifications.filter((function(t){return!t.viewed})).length}},methods:{loadData:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,o,c,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ct["a"])();case 3:if(e=t.sent,!e.data.success){t.next=21;break}return n=e.data.notifications,i=n.filter((function(t){return t.user._id!==s.$store.getters.user._id})),t.next=9,Object(y["f"])(this.$store.getters.user._id);case 9:if(a=t.sent,!a.data.success){t.next=18;break}return o=a.data.notifications,c=i.filter((function(t){return!o.some((function(e){return e._id===t._id}))})),o.push.apply(o,Object(r["a"])(c)),t.next=16,Object(y["j"])(this.$store.getters.user._id,o).then((function(t){t.data.success?s.notifications=o.reverse():console.error("Không thành công: ",t.data)})).catch((function(t){console.error("Lỗi khi lấy thông báo: ",t)}));case 16:t.next=19;break;case 18:console.error("Không thành công khi lấy dataList: ",a.data);case 19:t.next=22;break;case 21:console.error("Không thành công khi lấy apiNotifications: ",e.data);case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](0),console.error("Lỗi khi tải thông báo: ",t.t0);case 27:case"end":return t.stop()}}),t,this,[[0,24]])})));function e(){return t.apply(this,arguments)}return e}(),updateStatus:function(){console.log("123")},handleVisibleChange:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e&&this.countUnreadNotifications>0)){t.next=5;break}return console.log("Dropdown visible state changed to:",e),t.next=4,Object(y["k"])(this.$store.getters.user._id);case 4:this.loadData();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),Et=xt,Ot=(n("f871"),Object(T["a"])(Et,f,h,!1,null,"77120d4c",null)),Nt=Ot.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[t._l(t.alerts,(function(n,r){return e("transition",{key:"alert"+r,attrs:{name:"el-alert-fade"}},[e("div",{staticClass:"el-alert is-light mb-1",class:"el-alert--"+n.type,attrs:{role:"alert"}},[e("i",{staticClass:"el-alert__icon is-big",class:"el-icon-"+n.type}),e("div",{staticClass:"el-alert__content"},["title"in n?e("span",{staticClass:"el-alert__title is-bold"},[t._v(t._s(n.title))]):t._e(),e("p",{staticClass:"el-alert__description"},[t._v(t._s(n.message))]),e("i",{staticClass:"el-alert__closebtn el-icon-close",on:{click:function(e){return t.dismissAlert(r)}}})])]),e("div",[t._v("Hello")])])})),e("div",{},[e("div",{staticClass:"mt-0 h-[200px]"},[e("div",{class:t.$isMobile?"":"p-1"},[t.subtitle?e("div",{staticClass:"content-title pb-4 mt-n4"},[t._v(t._s(t.subtitle))]):t._e(),e("router-view",{key:t.reRender})],1)])])],2)},Ut=[],jt={components:{Breadcrumb:pt},methods:{dismissAlert:function(t){this.$store.dispatch("dismissAlert",t)},doAction:function(t){if(t.callback&&"function"==typeof t.callback)t.callback();else if(t.route){var e={name:t.route};t.routeParams&&(e.params=t.routeParams),this.$router.push(e)}else t.path?this.$router.push(t.path):console.warn('Button "'.concat(t.label,'" has an invalid action'))},handleMoreAction:function(t){this.doAction(t)}},computed:{alerts:function(){return this.$store.getters.alerts},loadingStatus:function(){return this.$store.getters.loadingStatus},reRender:function(){return this.$store.getters.reRender},pageTitle:function(){return this.$store.getters.pageTitle},toolbarWidges:function(){return this.$store.getters.toolbarWidges||[]},subtitle:function(){return this.$store.getters.subtitle||""}}},Dt=jt,It=(n("6e25"),Object(T["a"])(Dt,Pt,Ut,!1,null,"0d515900",null)),Lt=It.exports,Rt=n("b775");function Ft(){return Object(Rt["a"])({url:"/helper/init",method:"get"})}var Mt=function(){var t=this,e=t._self._c;return e("div",[e("el-button",{staticClass:"chat",attrs:{circle:""},on:{click:t.openChat}},[e("img",{staticClass:"avatar",attrs:{src:n("a67c")}})]),e("div",{staticClass:"speech-bubble"},[t._v("Hello, I'm a chatbot!")]),e("el-drawer",{attrs:{visible:t.drawer,"with-header":!1},on:{"update:visible":function(e){t.drawer=e}}},[e("main",{staticClass:"min-h-screen"},[e("div",{staticClass:"max-w-2xl",staticStyle:{"border-radius":"25px"}},[e("div",{staticClass:"d-flex justify-content-center bg-green-300",staticStyle:{"background-color":"aquamarine"}},[e("h3",{staticClass:"text-4xl font-bold text-center mt-3"},[t._v("TÔI LÀ CHATBOT")]),e("img",{staticClass:"avatar my-3",attrs:{src:n("a67c")}})]),e("div",[e("div",{staticClass:"rounded-lg p-6"},[e("div",{staticClass:"chat-box chat-container"},t._l(t.chatHistory,(function(r,i){return e("div",{key:i,class:["chat-message",r.sender]},["user"===r.sender?e("img",{staticClass:"avatar",attrs:{src:n("c121")}}):e("img",{staticClass:"avatar",attrs:{src:n("a67c")}}),e("div",{staticClass:"message-content"},[e("div",{staticClass:"message-text"},[e("p",[t._v(t._s(r.text))])])])])})),0),e("div",{staticClass:"d-flex justify-content-between input-container mt-2 p-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput,expression:"userInput"}],staticClass:"input-cus",attrs:{size:"medium",placeholder:"Nhập nội dung......"},domProps:{value:t.userInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(e){e.target.composing||(t.userInput=e.target.value)}}}),e("button",{staticStyle:{border:"none","background-color":"white"},on:{click:t.sendMessage}},[e("i",{staticClass:"fa fa-paper-plane mr-2",staticStyle:{color:"rgb(22, 77, 228)","font-size":"large"},attrs:{"aria-hidden":"true"}})])])])])])])])],1)},Bt=[],Ht=(n("4f37"),n("bc3a")),Vt=n.n(Ht),Qt={data:function(){return{drawer:!1,userInput:"",chatHistory:[],userAvatar:"../../assets/user.png",botAvatar:"../../assets/robot.png"}},methods:{openChat:function(){this.drawer=!0},sendMessage:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.userInput.trim()){t.next=2;break}return t.abrupt("return");case 2:return this.chatHistory.push({text:this.userInput,sender:"user"}),this.$nextTick((function(){n.scrollToBottom()})),t.prev=4,t.next=7,Vt.a.post("https://chatbot-glgn.onrender.com/chat",{message:this.userInput});case 7:e=t.sent,this.chatHistory.push({text:e.data.response,sender:"bot"}),this.$nextTick((function(){n.scrollToBottom()})),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](4),console.error("Lỗi khi gửi tin nhắn:",t.t0.response?t.t0.response.data:t.t0.message),this.chatHistory.push({text:"Có lỗi xảy ra. Vui lòng thử lại.",sender:"bot"}),this.$nextTick((function(){n.scrollToBottom()}));case 17:this.userInput="";case 18:case"end":return t.stop()}}),t,this,[[4,12]])})));function e(){return t.apply(this,arguments)}return e}(),scrollToBottom:function(){var t=this.$el.querySelector(".chat-container");t.scrollTop=t.scrollHeight}}},zt=Qt,$t=(n("ca74"),Object(T["a"])(zt,Mt,Bt,!1,null,"69565231",null)),Gt=$t.exports,qt={data:function(){return{isLoaded:!1,isSidebarExpand:!1}},components:{HeaderComponent:Nt,RootContent:Lt,SideBarComponent:ut,chat:Gt},created:function(){var t=this;Ft().then((function(e){e.data.success&&t.$store.dispatch("setFirstData",e.data),e.headers["system-name"]&&t.$store.commit("SET_SYSTEM_NAME",e.headers["system-name"])})).finally((function(){t.isLoaded=!0}))},mounted:function(){var t=Object(g["a"])("layout","THEME")||this.THEME;this.theme="v2"===t,this.$store.dispatch("setNewTheme",this.theme)},computed:{user:function(){return this.$store.getters.user},loadingStatus:function(){return this.$store.getters.loadingStatus},client:function(){return this.$store.getters.client||""}},methods:{handleSidebar:function(t){this.isSidebarExpand=t}}},Wt=qt,Xt=(n("aac9"),Object(T["a"])(Wt,l,d,!1,null,"57e29008",null)),Kt=Xt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",staticStyle:{"margin-top":"8rem"}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6 text-center"},[e("h1",{staticClass:"text-danger"},[t._v("404 Not Found")]),e("h5",[t._v("Woops, Look like this page doesn't exist")]),e("button",{staticClass:"mt-3 btn btn-danger",on:{click:function(e){return t.$router.back()}}},[t._v("Go Back")]),e("button",{staticClass:"mt-3 btn btn-warning ml-3",on:{click:function(e){return t.$router.push("/")}}},[t._v("Dashboard")])])])])},Jt=[],Zt={},te=Object(T["a"])(Zt,Yt,Jt,!1,null,null,null),ee=te.exports,ne="user",re="User",ie=[{path:ne,component:function(){return Promise.all([n.e("chunk-76d2505c"),n.e("chunk-c65c6058")]).then(n.bind(null,"2ca3"))},name:"".concat(ne,"_main"),meta:{title:re}},{path:"".concat(ne,"/new"),component:function(){return n.e("chunk-4caea91f").then(n.bind(null,"629d"))},name:"".concat(ne,"_new"),meta:{title:"Tạo ".concat(re)}},{path:"".concat(ne,"/edit/:id"),component:function(){return n.e("chunk-4caea91f").then(n.bind(null,"629d"))},name:"".concat(ne,"_edit"),meta:{title:"Chỉnh Sửa ".concat(re)}}],ae="setting",oe="Cài đặt",ce=[{path:ae,component:function(){return n.e("chunk-2d0c0e94").then(n.bind(null,"4497"))},name:"".concat(ae,"_main"),meta:{title:oe}}],se="question",ue="Câu hỏi",le="Question",de=[{path:se,component:function(){return n("eec5")("./".concat(le))},name:"".concat(se,"_main"),meta:{title:ue}}],fe="questionTables",he="Quản trị câu hỏi",me="Question",pe=[{path:fe,component:function(){return n("9266")("./".concat(me,"/questionTables"))},name:"".concat(fe,"_main"),meta:{title:he}},{path:"Question/:id",component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-6e7155be"),n.e("chunk-180c8df8"),n.e("chunk-54bf3aab")]).then(n.bind(null,"9ff0"))},name:"Question",meta:{title:" ".concat(he)}}],be="training_point",ge="Chấm điểm rèn luyện",ve="training_point",ke=[{path:be,component:function(){return n("eec5")("./".concat(ve))},name:"".concat(be,"_main"),meta:{title:ge}}],ye="/detailTrainingPoint",we="Quản trị điểm rèn luyện",_e="training_point",Te=[{path:ye,component:function(){return n("c78c")("./".concat(_e,"/detailTrainingPoint"))},name:"detailTrainingPoint_main",meta:{title:we}},{path:"".concat(ye,"/new"),component:function(){return n.e("chunk-4caea91f").then(n.bind(null,"629d"))},name:"".concat(ye,"_new"),meta:{title:"Tạo ".concat(we)}},{path:"".concat(ye,"/edit/:id"),component:function(){return n.e("chunk-aa9ce0e2").then(n.bind(null,"51c5"))},name:"detailTrainingPoint_edit",meta:{title:"Chỉnh Sửa ".concat(we)}}],Se="/resultTraningPoint",Ae="Chấm điểm rèn luyện",Ce="training_point",xe=[{path:Se,component:function(){return n("75a3")("./".concat(Ce,"/resultTraningPoint"))},name:"".concat(Se,"_main"),meta:{title:Ae}}],Ee="note_book",Oe="Sổ tay sinh viên",Ne="NoteBook",Pe=[{path:Ee,component:function(){return n("eec5")("./".concat(Ne))},name:"".concat(Ee,"_main"),meta:{title:Oe}}],Ue="student",je="Student",De=[{path:Ue,component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-76d2505c"),n.e("chunk-3f796135")]).then(n.bind(null,"ad43"))},name:"".concat(Ue,"_main"),meta:{title:je}},{path:"".concat(Ue,"/new"),component:function(){return n.e("chunk-657d8705").then(n.bind(null,"8137"))},name:"".concat(Ue,"_new"),meta:{title:"Tạo mới sinh viên"}},{path:"".concat(Ue,"/edit/:id"),component:function(){return n.e("chunk-657d8705").then(n.bind(null,"8137"))},name:"".concat(Ue,"_edit"),meta:{title:"Chỉnh Sửa ".concat(je)}}],Ie="consultant",Le="Consultant",Re=[{path:Ie,component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-76d2505c"),n.e("chunk-66821e5a")]).then(n.bind(null,"11a2"))},name:"".concat(Ie,"_main"),meta:{title:Le}},{path:"".concat(Ie,"/new"),component:function(){return n.e("chunk-d234e0b4").then(n.bind(null,"77f3"))},name:"".concat(Ie,"_new"),meta:{title:"Tạo mới cố vấn"}},{path:"".concat(Ie,"/edit/:id"),component:function(){return n.e("chunk-d234e0b4").then(n.bind(null,"77f3"))},name:"".concat(Ie,"_edit"),meta:{title:"Chỉnh Sửa ".concat(Le)}}],Fe="post",Me="Bài đăng",Be="Post",He=[{path:Fe,component:function(){return n("eec5")("./".concat(Be))},name:"".concat(Fe,"_main"),meta:{title:Me}},{path:"".concat(Fe,"/edit/:id"),component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-76d2505c"),n.e("chunk-6ef3f034"),n.e("chunk-180c8df8"),n.e("chunk-a09cf0b4")]).then(n.bind(null,"d98a"))},name:"PostEdit",meta:{title:" ".concat(Me)}}],Ve="PostTables",Qe="Bài đăng",ze="postTables",$e=[{path:Ve,component:function(){return n("6ab2")("./".concat(ze))},name:"".concat(Ve,"_main"),meta:{title:Qe}},{path:"Post/:id",component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-76d2505c"),n.e("chunk-6ef3f034"),n.e("chunk-180c8df8"),n.e("chunk-a09cf0b4")]).then(n.bind(null,"d98a"))},name:"Post",meta:{title:Qe}}],Ge="introduce",qe="Giới thiệu",We="Introduce",Xe=[{path:Ge,component:function(){return n("eec5")("./".concat(We))},name:"".concat(Ge,"_main"),meta:{title:qe}}];i["default"].use(a["a"]);var Ke=[{path:"/login",name:"Login",component:function(){return n.e("chunk-4b3966b2").then(n.bind(null,"d23a"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-2d208708").then(n.bind(null,"a597"))}}],Ye={path:"/",component:Kt,redirect:"dashboard",name:"app",meta:{authRequired:!1},children:[{path:"dashboard",component:function(){return n.e("chunk-1fcd6e4a").then(n.bind(null,"aecc"))},name:"dashboard",meta:{title:"Dashboard"}}].concat(Object(r["a"])(ce),Object(r["a"])(de),Object(r["a"])(pe),Object(r["a"])(ke),Object(r["a"])(Te),Object(r["a"])(xe),Object(r["a"])(Pe),Object(r["a"])(ie),Object(r["a"])(De),Object(r["a"])(Re),Object(r["a"])(He),Object(r["a"])($e),Object(r["a"])(Xe))},Je=new a["a"]({routes:[Ye].concat(Ke,[{path:"*",name:"not_found",component:ee,meta:{title:"404 Not Found"}}]),scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});Je.onError((function(t){/Loading (chunk|CSS chunk) [\w|-]* failed/gi.test(t.message)&&navigator.onLine&&Je.history.pending&&Je.go(Je.history.pending)})),Je.beforeEach(s),Je.afterEach(u);e["a"]=Je},e2cf:function(t,e,n){},eec5:function(t,e,n){var r={"./Consultant":["11a2","chunk-5b6ad2d8","chunk-76d2505c","chunk-66821e5a"],"./Consultant/":["11a2","chunk-5b6ad2d8","chunk-76d2505c","chunk-66821e5a"],"./Consultant/Form":["77f3","chunk-d234e0b4"],"./Consultant/Form.vue":["77f3","chunk-d234e0b4"],"./Consultant/index":["11a2","chunk-5b6ad2d8","chunk-76d2505c","chunk-66821e5a"],"./Consultant/index.vue":["11a2","chunk-5b6ad2d8","chunk-76d2505c","chunk-66821e5a"],"./Introduce":["c850","chunk-33ffb828"],"./Introduce/":["c850","chunk-33ffb828"],"./Introduce/index":["c850","chunk-33ffb828"],"./Introduce/index.vue":["c850","chunk-33ffb828"],"./NoteBook":["9e88","chunk-1fc24fb0"],"./NoteBook/":["9e88","chunk-1fc24fb0"],"./NoteBook/index":["9e88","chunk-1fc24fb0"],"./NoteBook/index.vue":["9e88","chunk-1fc24fb0"],"./NoteBook/inforUser":["e925","chunk-bde6dfe2"],"./NoteBook/inforUser.vue":["e925","chunk-bde6dfe2"],"./Overview":["aecc","chunk-1fcd6e4a"],"./Overview.vue":["aecc","chunk-1fcd6e4a"],"./Post":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./Post/":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./Post/Reply":["51f2","chunk-5b6ad2d8","chunk-626ec25e"],"./Post/Reply.vue":["51f2","chunk-5b6ad2d8","chunk-626ec25e"],"./Post/detailPost":["9a88","chunk-5b6ad2d8","chunk-6ef3f034"],"./Post/detailPost.vue":["9a88","chunk-5b6ad2d8","chunk-6ef3f034"],"./Post/index":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./Post/index.vue":["d98a","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-180c8df8","chunk-a09cf0b4"],"./Post/postItem":["ecde","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-57565704"],"./Post/postItem.vue":["ecde","chunk-5b6ad2d8","chunk-76d2505c","chunk-6ef3f034","chunk-57565704"],"./Post/postTables":["ee69","chunk-5b6ad2d8","chunk-76d2505c","chunk-5da5497e"],"./Post/postTables.vue":["ee69","chunk-5b6ad2d8","chunk-76d2505c","chunk-5da5497e"],"./Question":["9ff0","chunk-5b6ad2d8","chunk-6e7155be","chunk-180c8df8","chunk-54bf3aab"],"./Question/":["9ff0","chunk-5b6ad2d8","chunk-6e7155be","chunk-180c8df8","chunk-54bf3aab"],"./Question/Answer":["868a","chunk-5b6ad2d8","chunk-31f8488c"],"./Question/Answer.vue":["868a","chunk-5b6ad2d8","chunk-31f8488c"],"./Question/EmojiPicker":["425e","chunk-52d87de2"],"./Question/EmojiPicker.vue":["425e","chunk-52d87de2"],"./Question/Question":["3ca4","chunk-5b6ad2d8","chunk-6e7155be","chunk-d23254a4"],"./Question/Question.vue":["3ca4","chunk-5b6ad2d8","chunk-6e7155be","chunk-d23254a4"],"./Question/detailQuestion":["188b","chunk-5b6ad2d8","chunk-6e7155be"],"./Question/detailQuestion.vue":["188b","chunk-5b6ad2d8","chunk-6e7155be"],"./Question/index":["9ff0","chunk-5b6ad2d8","chunk-6e7155be","chunk-180c8df8","chunk-54bf3aab"],"./Question/index.vue":["9ff0","chunk-5b6ad2d8","chunk-6e7155be","chunk-180c8df8","chunk-54bf3aab"],"./Question/questionTables":["fcd5","chunk-5b6ad2d8","chunk-76d2505c","chunk-4e698b44"],"./Question/questionTables.vue":["fcd5","chunk-5b6ad2d8","chunk-76d2505c","chunk-4e698b44"],"./Setting":["4497","chunk-2d0c0e94"],"./Setting/":["4497","chunk-2d0c0e94"],"./Setting/index":["4497","chunk-2d0c0e94"],"./Setting/index.vue":["4497","chunk-2d0c0e94"],"./Student":["ad43","chunk-5b6ad2d8","chunk-76d2505c","chunk-3f796135"],"./Student/":["ad43","chunk-5b6ad2d8","chunk-76d2505c","chunk-3f796135"],"./Student/Form":["8137","chunk-657d8705"],"./Student/Form.vue":["8137","chunk-657d8705"],"./Student/index":["ad43","chunk-5b6ad2d8","chunk-76d2505c","chunk-3f796135"],"./Student/index.vue":["ad43","chunk-5b6ad2d8","chunk-76d2505c","chunk-3f796135"],"./User":["2ca3","chunk-76d2505c","chunk-c65c6058"],"./User/":["2ca3","chunk-76d2505c","chunk-c65c6058"],"./User/Form":["629d","chunk-4caea91f"],"./User/Form.vue":["629d","chunk-4caea91f"],"./User/index":["2ca3","chunk-76d2505c","chunk-c65c6058"],"./User/index.vue":["2ca3","chunk-76d2505c","chunk-c65c6058"],"./training_point":["51c5","chunk-aa9ce0e2"],"./training_point/":["51c5","chunk-aa9ce0e2"],"./training_point/detailTrainingPoint":["366e","chunk-5b6ad2d8","chunk-76d2505c","chunk-034e2901"],"./training_point/detailTrainingPoint.vue":["366e","chunk-5b6ad2d8","chunk-76d2505c","chunk-034e2901"],"./training_point/index":["51c5","chunk-aa9ce0e2"],"./training_point/index.vue":["51c5","chunk-aa9ce0e2"],"./training_point/resultTraningPoint":["e32d","chunk-5b6ad2d8","chunk-76d2505c","chunk-57782c76"],"./training_point/resultTraningPoint.vue":["e32d","chunk-5b6ad2d8","chunk-76d2505c","chunk-57782c76"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="eec5",t.exports=i},ef02:function(t,e,n){"use strict";n("5475")},f871:function(t,e,n){"use strict";n("b84e")},fb02:function(t,e,n){"use strict";(function(t){n("d25f"),n("28a5"),n("a481"),n("6d67"),n("d92a"),n("5df3"),n("1c4c"),n("759f"),n("7f7f");var e=n("53ca");n("0d6d");(function(n){var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(){},a=function(t){return function(){return t}},o=function(t){return t},c=function(t){return function(){throw new Error(t)}},s=a(!1),u=a(!0),l=function(){return d},d=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:s,isSome:s,isNone:u,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:e,map:l,each:i,bind:l,exists:s,forall:u,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")};return Object.freeze&&Object.freeze(r),r}(),f=function(t){var e=a(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return f(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return i},h=function(t){return null===t||void 0===t?d:f(t)},m={some:f,none:l,from:h},p=function(t){if(null===t)return"null";var n=Object(e["a"])(t);return"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},b=function(t){return function(e){return p(e)===t}},g=b("string"),v=b("object"),k=b("array"),y=b("boolean"),w=b("function"),_=b("number"),T=Array.prototype.slice,S=Array.prototype.push,A=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];e(i,n)}},C=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!k(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);S.apply(e,t[n])}return e},x=function(t){return 0===t.length?m.none():m.some(t[0])},E=(w(Array.from)&&Array.from,function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return m.none()}),O=function(){return O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},O.apply(this,arguments)},N={},P={exports:N};(function(n,r,i,a){(function(a){if("object"===Object(e["a"])(r)&&"undefined"!==typeof i)i.exports=a();else if("function"===typeof n&&n.amd)n([],a);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=a()}})((function(){return function(){function t(e,n,r){function i(c,s){if(!n[c]){if(!e[c]){var u="function"==typeof a&&a;if(!s&&u)return u(c,!0);if(o)return o(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[c]={exports:{}};e[c][0].call(d.exports,(function(t){var n=e[c][1][t];return i(n||t)}),d,d.exports,t,e,n,r)}return n[c].exports}for(var o="function"==typeof a&&a,c=0;c<r.length;c++)i(r[c]);return i}return t}()({1:[function(t,e,n){var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(i===clearTimeout)return clearTimeout(t);if((i===c||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"===typeof clearTimeout?clearTimeout:c}catch(t){i=c}})();var l,d=[],f=!1,h=-1;function m(){f&&l&&(f=!1,l.length?d=l.concat(d):h=-1,d.length&&p())}function p(){if(!f){var t=s(m);f=!0;var e=d.length;while(e){l=d,d=[];while(++h<e)l&&l[h].run();h=-1,e=d.length}l=null,f=!1,u(t)}}function b(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new b(t,e)),1!==d.length||f||s(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],2:[function(t,n,r){(function(t){(function(r){var i=setTimeout;function a(){}function o(t,e){return function(){t.apply(e,arguments)}}function c(t){if("object"!==Object(e["a"])(this))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function s(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void l(e.promise,i)}u(e.promise,r)}else(1===t._state?u:l)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===Object(e["a"])(n)||"function"===typeof n)){var r=n.then;if(n instanceof c)return t._state=3,t._value=n,void d(t);if("function"===typeof r)return void h(o(r,n),t)}t._state=1,t._value=n,d(t)}catch(i){l(t,i)}}function l(t,e){t._state=2,t._value=e,d(t)}function d(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(r){if(n)return;n=!0,l(e,r)}}c.prototype["catch"]=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(a);return s(this,new f(t,e,n)),n},c.all=function(t){var n=Array.prototype.slice.call(t);return new c((function(t,r){if(0===n.length)return t([]);var i=n.length;function a(o,c){try{if(c&&("object"===Object(e["a"])(c)||"function"===typeof c)){var s=c.then;if("function"===typeof s)return void s.call(c,(function(t){a(o,t)}),r)}n[o]=c,0===--i&&t(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])}))},c.resolve=function(t){return t&&"object"===Object(e["a"])(t)&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,n){n(t)}))},c.race=function(t){return new c((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},c._immediateFn="function"===typeof t?function(e){t(e)}:function(t){i(t,0)},c._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},c._setImmediateFn=function(t){c._immediateFn=t},c._setUnhandledRejectionFn=function(t){c._unhandledRejectionFn=t},"undefined"!==typeof n&&n.exports?n.exports=c:r.Promise||(r.Promise=c)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,c={},s=0;function u(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new u(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"===typeof e?e:function(t){var e=s++,r=!(arguments.length<2)&&o.call(arguments,1);return c[e]=!0,i((function(){c[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"===typeof r?r:function(t){delete c[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i=function(){return"undefined"!==typeof window?window:Function("return this;")()}();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,N,P,void 0);var U=P.exports.boltExport,j=function(t){var e=m.none(),r=[],i=function(t){return j((function(e){a((function(n){e(t(n))}))}))},a=function(t){c()?u(t):r.push(t)},o=function(t){e=m.some(t),s(r),r=[]},c=function(){return e.isSome()},s=function(t){A(t,u)},u=function(t){e.each((function(e){n.setTimeout((function(){t(e)}),0)}))};return t(o),{get:a,map:i,isReady:c}},D=function(t){return j((function(e){e(t)}))},I={nu:j,pure:D},L=function(t){n.setTimeout((function(){throw t}),0)},R=function(t){var e=function(e){t().then(e,L)},n=function(e){return R((function(){return t().then(e)}))},r=function(e){return R((function(){return t().then((function(t){return e(t).toPromise()}))}))},i=function(e){return R((function(){return t().then((function(){return e.toPromise()}))}))},a=function(){return I.nu(e)},o=function(){var e=null;return R((function(){return null===e&&(e=t()),e}))},c=t;return{map:n,bind:r,anonBind:i,toLazy:a,toCached:o,toPromise:c,get:e}},F=function(t){return R((function(){return new U(t)}))},M=function(t){return R((function(){return U.resolve(t)}))},B={nu:F,pure:M},H=function(t){var e=function(e){return t===e},n=function(e){return H(t)},r=function(e){return H(t)},i=function(e){return H(e(t))},o=function(e){return H(t)},c=function(e){e(t)},l=function(e){return e(t)},d=function(e,n){return n(t)},f=function(e){return e(t)},h=function(e){return e(t)},p=function(){return m.some(t)};return{is:e,isValue:u,isError:s,getOr:a(t),getOrThunk:a(t),getOrDie:a(t),or:n,orThunk:r,fold:d,map:i,mapError:o,each:c,bind:l,exists:f,forall:h,toOption:p}},V=function(t){var e=function(t){return t()},n=function(){return c(String(t))()},r=function(t){return t},a=function(t){return t()},l=function(e){return V(t)},d=function(e){return V(e(t))},f=function(e){return V(t)},h=function(e,n){return e(t)};return{is:s,isValue:s,isError:u,getOr:o,getOrThunk:e,getOrDie:n,or:r,orThunk:a,fold:h,map:l,mapError:d,each:i,bind:f,exists:s,forall:u,toOption:m.none}},Q=function(t,e){return t.fold((function(){return V(e)}),H)},z={value:H,error:V,fromOption:Q},$=function(t){var e=function(){return $(t.toCached())},r=function(e){return $(t.bind((function(t){return t.fold((function(t){return B.pure(z.error(t))}),(function(t){return e(t)}))})))},i=function(e){return $(t.map((function(t){return t.bind(e)})))},a=function(e){return $(t.map((function(t){return t.map(e)})))},o=function(e){return $(t.map((function(t){return t.mapError(e)})))},c=function(e,n){return t.map((function(t){return t.fold(e,n)}))},s=function(e,r){return $(B.nu((function(i){var a=!1,o=n.setTimeout((function(){a=!0,i(z.error(r()))}),e);t.get((function(t){a||(n.clearTimeout(o),i(t))}))})))};return O(O({},t),{toCached:e,bindFuture:r,bindResult:i,mapResult:a,mapError:o,foldResult:c,withTimeout:s})},G=function(t){return $(B.nu(t))},q=function(t){return $(B.pure(z.value(t)))},W=function(t){return $(B.pure(z.error(t)))},X=function(t){return $(B.pure(t))},K=function(t){return $(t.map(z.value))},Y=function(t){return G((function(e){t.then((function(t){e(z.value(t))}),(function(t){e(z.error(t))}))}))},J={nu:G,wrap:$,pure:q,value:q,error:W,fromResult:X,fromFuture:K,fromPromise:Y},Z=Object.prototype.hasOwnProperty,tt=function(t,e){var n=v(t)&&v(e);return n?nt(t,e):e},et=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<e.length;i++){var a=e[i];for(var o in a)Z.call(a,o)&&(r[o]=t(r[o],a[o]))}return r}},nt=et(tt),rt=(n.Node.ATTRIBUTE_NODE,n.Node.CDATA_SECTION_NODE,n.Node.COMMENT_NODE,n.Node.DOCUMENT_NODE,n.Node.DOCUMENT_TYPE_NODE,n.Node.DOCUMENT_FRAGMENT_NODE,n.Node.ELEMENT_NODE,n.Node.TEXT_NODE,n.Node.PROCESSING_INSTRUCTION_NODE,n.Node.ENTITY_REFERENCE_NODE,n.Node.ENTITY_NODE,n.Node.NOTATION_NODE,"undefined"!==typeof n.window?n.window:Function("return this;")(),function(t,e,r){if(!(g(r)||y(r)||_(r)))throw n.console.error("Invalid call to Attr.set. Key ",e,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,r+"")}),it=function(t,e,n){rt(t.dom(),e,n)},at=function(t,e){var r=e||n.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw n.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return st(i.childNodes[0])},ot=function(t,e){var r=e||n.document,i=r.createElement(t);return st(i)},ct=function(t,e){var r=e||n.document,i=r.createTextNode(t);return st(i)},st=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:a(t)}},ut=function(t,e,n){var r=t.dom();return m.from(r.elementFromPoint(e,n)).map(st)},lt={fromHtml:at,fromTag:ot,fromText:ct,fromDom:st,fromPoint:ut},dt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ft=tinymce.util.Tools.resolve("tinymce.util.Promise"),ht=tinymce.util.Tools.resolve("tinymce.util.XHR"),mt=function(t){return t.getParam("image_dimensions",!0,"boolean")},pt=function(t){return t.getParam("image_advtab",!1,"boolean")},bt=function(t){return t.getParam("image_uploadtab",!0,"boolean")},gt=function(t){return t.getParam("image_prepend_url","","string")},vt=function(t){return t.getParam("image_class_list")},kt=function(t){return t.getParam("image_description",!0,"boolean")},yt=function(t){return t.getParam("image_title",!1,"boolean")},wt=function(t){return t.getParam("image_caption",!1,"boolean")},_t=function(t){return t.getParam("image_list",!1)},Tt=function(t){return!!At(t)},St=function(t){return!!Ct(t)},At=function(t){return t.getParam("images_upload_url","","string")},Ct=function(t){return t.getParam("images_upload_handler",void 0,"function")},xt=function(t){return t.getParam("images_upload_base_path",void 0,"string")},Et=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Ot=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")},Nt=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Pt={hasDimensions:mt,hasUploadTab:bt,hasAdvTab:pt,getPrependUrl:gt,getClassList:vt,hasDescription:kt,hasImageTitle:yt,hasImageCaption:wt,getImageList:_t,hasUploadUrl:Tt,hasUploadHandler:St,getUploadUrl:At,getUploadHandler:Ct,getUploadBasePath:xt,getUploadCredentials:Et,showAccessibilityOptions:Ot,isAutomaticUploadsEnabled:Nt},Ut=function(t,e){return Math.max(parseInt(t,10),parseInt(e,10))},jt=function(t,e){var r=n.document.createElement("img"),i=function(t){r.parentNode&&r.parentNode.removeChild(r),e(t)};r.onload=function(){Ut(r.width,r.clientWidth),Ut(r.height,r.clientHeight);var t={width:"100%",height:"auto"};i(z.value(t))},r.onerror=function(){i(z.error("Failed to get image dimensions for: "+t))};var a=r.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left="0px",a.width=a.height="auto",n.document.body.appendChild(r),r.src=t},Dt=function(t){return t&&(t=t.replace(/px$/,"")),t},It=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},Lt=function(t){if(t.margin){var e=String(t.margin).split(" ");switch(e.length){case 1:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[0],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[0];break;case 2:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[1];break;case 3:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[1];break;case 4:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[3]}delete t.margin}return t},Rt=function(t,e){var n=Pt.getImageList(t);"string"===typeof n?ht.send({url:n,success:function(t){e(JSON.parse(t))}}):"function"===typeof n?n(e):e(n)},Ft=function(t,e,n){var r=function(){n.onload=n.onerror=null,t.selection&&(t.selection.select(n),t.nodeChanged())};n.onload=function(){e.width||e.height||!Pt.hasDimensions(t)||t.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},Mt=function(t){return new ft((function(e,r){var i=new n.FileReader;i.onload=function(){e(i.result)},i.onerror=function(){r(i.error.message)},i.readAsDataURL(t)}))},Bt=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},Ht={getImageSize:jt,removePixelSuffix:Dt,addPixelSuffix:It,mergeMargins:Lt,createImageList:Rt,waitLoadImage:Ft,blobToDataUri:Mt,isPlaceholderImage:Bt},Vt=dt.DOM,Qt=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?Ht.removePixelSuffix(t.style.marginLeft):""},zt=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?Ht.removePixelSuffix(t.style.marginTop):""},$t=function(t){return t.style.borderWidth?Ht.removePixelSuffix(t.style.borderWidth):""},Gt=function(t,e){return t.hasAttribute(e)?t.getAttribute(e):""},qt=function(t,e){return t.style[e]?t.style[e]:""},Wt=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},Xt=function(t,e,n){t.setAttribute(e,n)},Kt=function(t){var e=Vt.create("figure",{class:"image"});Vt.insertAfter(e,t),e.appendChild(t),e.appendChild(Vt.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false"},Yt=function(t){var e=t.parentNode;Vt.insertAfter(t,e),Vt.remove(e)},Jt=function(t){Wt(t)?Yt(t):Kt(t)},Zt=function(t,e){var n=t.getAttribute("style"),r=e(null!==n?n:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},te=function(t,e){return function(t,n,r){t.style[n]?(t.style[n]=Ht.addPixelSuffix(r),Zt(t,e)):Xt(t,n,r)}},ee=function(t,e){return t.style[e]?Ht.removePixelSuffix(t.style[e]):Gt(t,e)},ne=function(t,e){var n=Ht.addPixelSuffix(e);t.style.marginLeft=n,t.style.marginRight=n},re=function(t,e){var n=Ht.addPixelSuffix(e);t.style.marginTop=n,t.style.marginBottom=n},ie=function(t,e){var n=Ht.addPixelSuffix(e);t.style.borderWidth=n},ae=function(t,e){t.style.borderStyle=e},oe=function(t){return qt(t,"borderStyle")},ce=function(t){return"FIGURE"===t.nodeName},se=function(t){return"IMG"===t.nodeName},ue=function(t){return 0===Vt.getAttrib(t,"alt").length&&"presentation"===Vt.getAttrib(t,"role")},le=function(t){return ue(t)?"":Gt(t,"alt")},de=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},fe=function(t,e){var r=n.document.createElement("img");return Xt(r,"style",e.style),(Qt(r)||""!==e.hspace)&&ne(r,e.hspace),(zt(r)||""!==e.vspace)&&re(r,e.vspace),($t(r)||""!==e.border)&&ie(r,e.border),(oe(r)||""!==e.borderStyle)&&ae(r,e.borderStyle),t(r.getAttribute("style"))},he=function(t,e,r){var i=n.document.createElement("img");if(ke(t,O(O({},e),{caption:!1}),i,r),be(i,e.alt,e.isDecorative,r),e.caption){var a=Vt.create("figure",{class:"image"});return a.appendChild(i),a.appendChild(Vt.create("figcaption",{contentEditable:"true"},"Caption")),a.contentEditable="false",a}return i},me=function(t,e){return{src:Gt(e,"src"),alt:le(e),title:Gt(e,"title"),width:ee(e,"width"),height:ee(e,"height"),class:Gt(e,"class"),style:t(Gt(e,"style")),caption:Wt(e),hspace:Qt(e),vspace:zt(e),border:$t(e),borderStyle:qt(e,"borderStyle"),isDecorative:ue(e)}},pe=function(t,e,n,r,i){n[r]!==e[r]&&i(t,r,n[r])},be=function(t,e,n,r){if(n){Vt.setAttrib(t,"role","presentation");var i=lt.fromDom(t);it(i,"alt","")}else{if(r.hasAccessibilityOptions)Vt.setAttrib(t,"alt",e);else{i=lt.fromDom(t);it(i,"alt",e)}"presentation"===Vt.getAttrib(t,"role")&&Vt.setAttrib(t,"role","")}},ge=function(t,e,n,r){n.alt===e.alt&&n.isDecorative===e.isDecorative||be(t,n.alt,n.isDecorative,r)},ve=function(t,e){return function(n,r,i){t(n,i),Zt(n,e)}},ke=function(t,e,n,r){var i=me(t,n);pe(n,i,e,"caption",(function(t,e,n){return Jt(t)})),pe(n,i,e,"src",Xt),pe(n,i,e,"title",Xt),pe(n,i,e,"width",te("width",t)),pe(n,i,e,"height",te("height",t)),pe(n,i,e,"class",Xt),pe(n,i,e,"style",ve((function(t,e){return Xt(t,"style",e)}),t)),pe(n,i,e,"hspace",ve(ne,t)),pe(n,i,e,"vspace",ve(re,t)),pe(n,i,e,"border",ve(ie,t)),pe(n,i,e,"borderStyle",ve(ae,t)),ge(n,i,e,r)},ye=function(t,e){var n=t.dom.styles.parse(e),r=Ht.mergeMargins(n),i=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(i)},we=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,"figure.image");return n?t.dom.select("img",n)[0]:e&&("IMG"!==e.nodeName||Ht.isPlaceholderImage(e))?null:e},_e=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,(function(e){return!!t.schema.getTextBlockElements()[e.nodeName]}),t.getBody());return r?n.split(r,e):e},Te=function(t){var e=we(t);return e?me((function(e){return ye(t,e)}),e):de()},Se=function(t,e,n){var r=he((function(e){return ye(t,e)}),e,n);t.dom.setAttrib(r,"data-mce-id","__mcenew"),t.focus(),t.selection.setContent(r.outerHTML);var i=t.dom.select('*[data-mce-id="__mcenew"]')[0];if(t.dom.setAttrib(i,"data-mce-id",null),ce(i)){var a=_e(t,i);t.selection.select(a)}else t.selection.select(i)},Ae=function(t,e){t.dom.setAttrib(e,"src",e.getAttribute("src"))},Ce=function(t,e){if(e){var n=t.dom.is(e.parentNode,"figure.image")?e.parentNode:e;t.dom.remove(n),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}},xe=function(t,e,n){var r=we(t);if(ke((function(e){return ye(t,e)}),e,r,n),Ae(t,r),ce(r.parentNode)){var i=r.parentNode;_e(t,i),t.selection.select(r.parentNode)}else t.selection.select(r),Ht.waitLoadImage(t,e,r)},Ee=function(t,e,n){var r=we(t);r?e.src?xe(t,e,n):Ce(t,r):e.src&&Se(t,e,n)},Oe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ne=function(t){return g(t.value)?t.value:""},Pe=function(t,e){var n=[];return Oe.each(t,(function(t){var r=g(t.text)?t.text:g(t.title)?t.title:"";if(void 0!==t.menu){var i=Pe(t.menu,e);n.push({text:r,items:i})}else{var a=e(t);n.push({text:r,value:a})}})),n},Ue=function(t){return void 0===t&&(t=Ne),function(e){return e?m.from(e).map((function(e){return Pe(e,t)})):m.none()}},je=function(t){return Ue(Ne)(t)},De=function(t){return Object.prototype.hasOwnProperty.call(t,"items")},Ie=function(t,e){return E(t,(function(t){return De(t)?Ie(t.items,e):t.value===e?m.some(t):m.none()}))},Le=function(t,e){return t.bind((function(t){return Ie(t,e)}))},Re={sanitizer:Ue,sanitize:je,findEntry:Le},Fe=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e};function Me(t){var e=function(e,r,i,a){var o,c;o=new n.XMLHttpRequest,o.open("POST",t.url),o.withCredentials=t.credentials,o.upload.onprogress=function(t){a(t.loaded/t.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;o.status<200||o.status>=300?i("HTTP Error: "+o.status):(e=JSON.parse(o.responseText),e&&"string"===typeof e.location?r(Fe(t.basePath,e.location)):i("Invalid JSON: "+o.responseText))},c=new n.FormData,c.append("file",e.blob(),e.filename()),o.send(c)},r=function(t,e){return new ft((function(n,r){try{e(t,n,r,i)}catch(a){r(a.message)}}))},a=function(t){return t===e},o=function(e){return!t.url&&a(t.handler)?ft.reject("Upload url missing from the settings."):r(e,t.handler)};return t=Oe.extend({credentials:!1,handler:e},t),{upload:o}}var Be=function(t){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},He={makeTab:Be},Ve=function(t){var e=Re.sanitizer((function(e){return t.convertURL(e.value||e.url,"src")})),n=B.nu((function(n){Ht.createImageList(t,(function(t){n(e(t).map((function(t){return C([[{text:"None",value:""}],t])})))}))})),r=Re.sanitize(Pt.getClassList(t)),i=Pt.hasAdvTab(t),a=Pt.hasUploadTab(t),o=Pt.hasUploadUrl(t),c=Pt.hasUploadHandler(t),s=Te(t),u=Pt.hasDescription(t),l=Pt.hasImageTitle(t),d=Pt.hasDimensions(t),f=Pt.hasImageCaption(t),h=Pt.showAccessibilityOptions(t),p=Pt.getUploadUrl(t),b=Pt.getUploadBasePath(t),v=Pt.getUploadCredentials(t),k=Pt.getUploadHandler(t),y=Pt.isAutomaticUploadsEnabled(t),w=m.some(Pt.getPrependUrl(t)).filter((function(t){return g(t)&&t.length>0}));return n.map((function(t){return{image:s,imageList:t,classList:r,hasAdvTab:i,hasUploadTab:a,hasUploadUrl:o,hasUploadHandler:c,hasDescription:u,hasImageTitle:l,hasDimensions:d,hasImageCaption:f,url:p,basePath:b,credentials:v,handler:k,prependURL:w,hasAccessibilityOptions:h,automaticUploads:y}}))},Qe=function(t){var e={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=t.imageList.map((function(t){return{name:"images",type:"selectbox",label:"Image list",items:t}})),r={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},i={name:"title",type:"input",label:"Image title"},a={name:"dimensions",type:"sizeinput"},o={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},c=t.classList.map((function(t){return{name:"classes",type:"selectbox",label:"Class",items:t}})),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return C([[e],n.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[o]:[],t.hasDescription?[r]:[],t.hasImageTitle?[i]:[],t.hasDimensions?[a]:[],[{type:"grid",columns:2,items:C([c.toArray(),t.hasImageCaption?[s]:[]])}]])},ze=function(t){return{title:"General",name:"general",items:Qe(t)}},$e={makeTab:ze,makeItems:Qe},Ge=function(t){var e=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:e}},qe={makeTab:Ge},We=function(t){return{prevImage:Re.findEntry(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}},Xe=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Ke=function(t){return{src:t.src.value,alt:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Ye=function(t,e){return/^(?:[a-zA-Z]+:)?\/\//.test(e)?m.none():t.prependURL.bind((function(t){return e.substring(0,t.length)!==t?m.some(t+e):m.none()}))},Je=function(t,e){var n=e.getData();Ye(t,n.src.value).each((function(t){e.setData({src:{value:t,meta:n.src.meta}})}))},Ze=function(t,e,n){t.hasDescription&&g(n.alt)&&(e.alt=n.alt),t.hasAccessibilityOptions&&(e.isDecorative=n.isDecorative||!1),t.hasImageTitle&&g(n.title)&&(e.title=n.title),t.hasDimensions&&(g(n.width)&&(e.dimensions.width=n.width),g(n.height)&&(e.dimensions.height=n.height)),g(n.class)&&Re.findEntry(t.classList,n.class).each((function(t){e.classes=t.value})),t.hasImageCaption&&y(n.caption)&&(e.caption=n.caption),t.hasAdvTab&&(g(n.style)&&(e.style=n.style),g(n.vspace)&&(e.vspace=n.vspace),g(n.border)&&(e.border=n.border),g(n.hspace)&&(e.hspace=n.hspace),g(n.borderstyle)&&(e.borderstyle=n.borderstyle))},tn=function(t,e){var n=e.getData(),r=n.src.meta;if(void 0!==r){var i=nt({},n);Ze(t,i,r),e.setData(i)}},en=function(t,e,n,r){var i=r.getData(),a=i.src.value,o=i.src.meta||{};o.width||o.height||!e.hasDimensions||t.imageSize(a).get((function(t){t.each((function(t){n.open&&r.setData({dimensions:t})}))}))},nn=function(t,e,n){var r=n.getData(),i=Re.findEntry(t.imageList,r.src.value);e.prevImage=i,n.setData({images:i.map((function(t){return t.value})).getOr("")})},rn=function(t,e,n,r){Je(e,r),tn(e,r),en(t,e,n,r),nn(e,n,r)},an=function(t,e,n,r){var i=r.getData(),a=Re.findEntry(e.imageList,i.images);a.each((function(t){var e=""===i.alt||n.prevImage.map((function(t){return t.text===i.alt})).getOr(!1);e?""===t.value?r.setData({src:t,alt:n.prevAlt}):r.setData({src:t,alt:t.text}):r.setData({src:t})})),n.prevImage=a,rn(t,e,n,r)},on=function(t){var e=t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"];return e?Ht.removePixelSuffix(String(t["margin-top"])):""},cn=function(t){var e=t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"];return e?Ht.removePixelSuffix(String(t["margin-right"])):""},sn=function(t){return t["border-width"]?Ht.removePixelSuffix(String(t["border-width"])):""},un=function(t){return t["border-style"]?String(t["border-style"]):""},ln=function(t,e,n){return e(t(e(n)))},dn=function(t,e,n){var r=Ht.mergeMargins(t(n.style)),i=nt({},n);return i.vspace=on(r),i.hspace=cn(r),i.border=sn(r),i.borderstyle=un(r),i.style=ln(t,e,r),i},fn=function(t,e){var n=e.getData(),r=dn(t.parseStyle,t.serializeStyle,n);e.setData(r)},hn=function(t,e,n){var r=nt(Xe(e.image),n.getData()),i=fe(t.normalizeCss,Ke(r));n.setData({style:i})},mn=function(t,e,r,i){var a=i.getData();i.block("Uploading image"),x(a.fileinput).fold((function(){i.unblock()}),(function(a){var o=n.URL.createObjectURL(a),c=Me({url:e.url,basePath:e.basePath,credentials:e.credentials,handler:e.handler}),s=function(){i.unblock(),n.URL.revokeObjectURL(o)},u=function(n){i.setData({src:{value:n,meta:{}}}),i.showTab("general"),rn(t,e,r,i)};Ht.blobToDataUri(a).then((function(n){var r=t.createBlobCache(a,o,n);e.automaticUploads?c.upload(r).then((function(t){u(t),s()})).catch((function(e){s(),t.alertErr(i,e)})):(t.addToBlobCache(r),u(r.blobUri()),i.unblock())}))}))},pn=function(t,e,n){return function(r,i){"src"===i.name?rn(t,e,n,r):"images"===i.name?an(t,e,n,r):"alt"===i.name?n.prevAlt=r.getData().alt:"style"===i.name?fn(t,r):"vspace"===i.name||"hspace"===i.name||"border"===i.name||"borderstyle"===i.name?hn(t,e,r):"fileinput"===i.name?mn(t,e,n,r):"isDecorative"===i.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},bn=function(t){return function(){t.open=!1}},gn=function(t){if(t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler){var e={type:"tabpanel",tabs:C([[$e.makeTab(t)],t.hasAdvTab?[He.makeTab(t)]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[qe.makeTab(t)]:[]])};return e}var n={type:"panel",items:$e.makeItems(t)};return n},vn=function(t){return function(e){var n=We(e);return{title:"Insert/Edit Image",size:"normal",body:gn(e),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Xe(e.image),onSubmit:t.onSubmit(e),onChange:pn(t,e,n),onClose:bn(n)}}},kn=function(t){return function(e){return function(n){var r=nt(Xe(e.image),n.getData());t.undoManager.transact((function(){Ee(t,Ke(r),e)})),t.editorUpload.uploadImagesAuto(),n.close()}}},yn=function(t){return function(e){return J.nu((function(n){Ht.getImageSize(t.documentBaseURI.toAbsolute(e),(function(t){var e=t.map((function(t){return{width:String(t.width),height:String(t.height)}}));n(e)}))}))}},wn=function(t){return function(e,n,r){return t.editorUpload.blobCache.create({blob:e,blobUri:n,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},_n=function(t){return function(e){t.editorUpload.blobCache.add(e)}},Tn=function(t){return function(e,n){t.windowManager.alert(n,e.close)}},Sn=function(t){return function(e){return ye(t,e)}},An=function(t){return function(e){return t.dom.parseStyle(e)}},Cn=function(t){return function(e,n){return t.dom.serializeStyle(e,n)}},xn=function(t){var e={onSubmit:kn(t),imageSize:yn(t),addToBlobCache:_n(t),createBlobCache:wn(t),alertErr:Tn(t),normalizeCss:Sn(t),parseStyle:An(t),serializeStyle:Cn(t)},n=function(){return Ve(t).map(vn(e)).get((function(e){t.windowManager.open(e)}))};return{open:n}},En=function(t){t.addCommand("mceImage",xn(t).open)},On={register:En},Nn=function(t){var e=t.attr("class");return e&&/\bimage\b/.test(e)},Pn=function(t){return function(e){var n=e.length,r=function(e){e.attr("contenteditable",t?"true":null)};while(n--){var i=e[n];Nn(i)&&(i.attr("contenteditable",t?"false":null),Oe.each(i.getAll("figcaption"),r))}}},Un=function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",Pn(!0)),t.serializer.addNodeFilter("figure",Pn(!1))}))},jn={setup:Un},Dn=function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:xn(t).open,onSetup:function(e){return t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:xn(t).open}),t.ui.registry.addContextMenu("image",{update:function(t){return ce(t)||se(t)&&!Ht.isPlaceholderImage(t)?["image"]:[]}})},In={register:Dn};function Ln(){r.add("image",(function(t){jn.setup(t),In.register(t),On.register(t)}))}Ln()})(window)}).call(this,n("c8ba"))}});